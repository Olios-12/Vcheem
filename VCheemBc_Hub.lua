-- Obfuscate BY OWNER CHEEM HUB
local b="LS0gPT09PT09PT09PT09PT09PT0gQ0hFRU0gSFVCIFNBRkUgTU9ERSA9PT09PT09PT09PT09PT09PQotLSBTQUZFIE1PREUgKyBFUlJPUiBQQU5FTAotLSAoQXV0by1nZW5lcmF0ZWQgd3JhcHBlciwgbG9naWMgaW5zaWRlIGlzIHVuY2hhbmdlZCkKCmxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBQbGF5ZXIgPSBQbGF5ZXJzLkxvY2FsUGxheWVyCgotLSA9PT09PSBFUlJPUiBQQU5FTCA9PT09PQpsb2NhbCBFcnJvckd1aSA9IEluc3RhbmNlLm5ldygiU2NyZWVuR3VpIikKRXJyb3JHdWkuTmFtZSA9ICJDaGVlbUh1Yl9FcnJvclBhbmVsIgpFcnJvckd1aS5SZXNldE9uU3Bhd24gPSBmYWxzZQpFcnJvckd1aS5QYXJlbnQgPSBnYW1lOkdldFNlcnZpY2UoIkNvcmVHdWkiKQoKbG9jYWwgRnJhbWUgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgRXJyb3JHdWkpCkZyYW1lLlNpemUgPSBVRGltMi5mcm9tU2NhbGUoMC4zNSwgMC4zNSkKRnJhbWUuUG9zaXRpb24gPSBVRGltMi5mcm9tU2NhbGUoMC42MiwgMC4wNSkKRnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwLDIwLDIwKQpGcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCgpsb2NhbCBUaXRsZSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgRnJhbWUpClRpdGxlLlNpemUgPSBVRGltMi5mcm9tU2NhbGUoMSwgMC4xMikKVGl0bGUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKVGl0bGUuVGV4dCA9ICJDSEVFTSBIVUIgLSBFUlJPUiBQQU5FTCIKVGl0bGUuVGV4dENvbG9yMyA9IENvbG9yMy5uZXcoMSwwLjMsMC4zKQpUaXRsZS5UZXh0U2NhbGVkID0gdHJ1ZQoKbG9jYWwgQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IiwgRnJhbWUpCkJveC5Qb3NpdGlvbiA9IFVEaW0yLmZyb21TY2FsZSgwLjAyLCAwLjE0KQpCb3guU2l6ZSA9IFVEaW0yLmZyb21TY2FsZSgwLjk2LCAwLjg0KQpCb3guVGV4dFdyYXBwZWQgPSB0cnVlCkJveC5UZXh0WUFsaWdubWVudCA9IEVudW0uVGV4dFlBbGlnbm1lbnQuVG9wCkJveC5DbGVhclRleHRPbkZvY3VzID0gZmFsc2UKQm94Lk11bHRpTGluZSA9IHRydWUKQm94LlRleHRFZGl0YWJsZSA9IGZhbHNlCkJveC5UZXh0ID0gIiIKQm94LkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigxNSwxNSwxNSkKQm94LlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsMSwxKQpCb3guVGV4dFhBbGlnbm1lbnQgPSBFbnVtLlRleHRYQWxpZ25tZW50LkxlZnQKQm94LlRleHRZQWxpZ25tZW50ID0gRW51bS5UZXh0WUFsaWdubWVudC5Ub3AKCmxvY2FsIGZ1bmN0aW9uIFB1c2hFcnJvcihtc2cpCiAgICBCb3guVGV4dCA9IG9zLmRhdGUoIlslSDolTTolU10gIikgLi4gdG9zdHJpbmcobXNnKSAuLiAiXG4iIC4uIEJveC5UZXh0CmVuZAoKLS0gPT09PT0gU0FGRSBSVU4gPT09PT0KbG9jYWwgZnVuY3Rpb24gU2FmZVJ1bihuYW1lLCBmbikKICAgIGxvY2FsIG9rLCBlcnIgPSB4cGNhbGwoZm4sIGRlYnVnLnRyYWNlYmFjaykKICAgIGlmIG5vdCBvayB0aGVuCiAgICAgICAgd2FybigiW0NIRUVNIEhVQiBFUlJPUl1bIi4ubmFtZS4uIl0iLCBlcnIpCiAgICAgICAgUHVzaEVycm9yKGVycikKICAgIGVuZAplbmQKClNhZmVSdW4oIk1BSU4iLCBmdW5jdGlvbigpCgoKLS09PT09PT09PT09PT09PT09PT09PT09IENIRUVNIEhVQiB8IEFMTCBJTiBPTkUgPT09PT09PT09PT09PT09PT09PT09PS0tCi0tIExvYWRlciArIE1hcCBEZXRlY3QgKyBIdWIgKyBTYXZlQ29uZmlnICsgQW50aSBBRksKLS0gRGV2IGZyaWVuZGx5IOKAkyBLaMO0bmcgY2jhur90IG1lbnUKCmlmIGdldGdlbnYoKS5DaGVlbUh1YkxvYWRlZCB0aGVuIHJldHVybiBlbmQKZ2V0Z2VudigpLkNoZWVtSHViTG9hZGVkID0gdHJ1ZQoKcmVwZWF0IHRhc2sud2FpdCgpIHVudGlsIGdhbWU6SXNMb2FkZWQoKQoKLS09PT09PT09PT09PT09PT09PT09PT09IFNFUlZJQ0VTID09PT09PT09PT09PT09PT09PT09PT0tLQpsb2NhbCBQbGF5ZXJzID0gZ2FtZTpHZXRTZXJ2aWNlKCJQbGF5ZXJzIikKbG9jYWwgUmVwbGljYXRlZFN0b3JhZ2UgPSBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikKbG9jYWwgVmlydHVhbFVzZXIgPSBnYW1lOkdldFNlcnZpY2UoIlZpcnR1YWxVc2VyIikKbG9jYWwgVGVsZXBvcnRTZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJUZWxlcG9ydFNlcnZpY2UiKQpsb2NhbCBIdHRwU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiSHR0cFNlcnZpY2UiKQpsb2NhbCBTdGFydGVyR3VpID0gZ2FtZTpHZXRTZXJ2aWNlKCJTdGFydGVyR3VpIikKbG9jYWwgVXNlcklucHV0U2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiVXNlcklucHV0U2VydmljZSIpCgpsb2NhbCBQbGF5ZXIgPSBQbGF5ZXJzLkxvY2FsUGxheWVyCnJlcGVhdCB0YXNrLndhaXQoKSB1bnRpbCBQbGF5ZXIKcmVwZWF0IHRhc2sud2FpdCgpIHVudGlsIFBsYXllci5DaGFyYWN0ZXIKCmxvY2FsIFVJVmlzaWJsZSA9IHRydWUKbG9jYWwgR2xvYmFsVUkgPSBuaWwKCi0tID09PT09PT09PT09PT09PT09IFRIRU1FID09PT09PT09PT09PT09PT09CmxvY2FsIFRoZW1lID0gewogICAgRGFyayA9IHsKICAgICAgICBCYWNrZ3JvdW5kID0gQ29sb3IzLmZyb21SR0IoMjUsMjUsMjUpLAogICAgICAgIFNlY3Rpb24gICAgPSBDb2xvcjMuZnJvbVJHQig0MCw0MCw0MCksCiAgICAgICAgQWNjZW50ICAgICA9IENvbG9yMy5mcm9tUkdCKDI1NSwyMjEsMCksCiAgICAgICAgVGV4dCAgICAgICA9IENvbG9yMy5mcm9tUkdCKDI1NSwyNTUsMjU1KQogICAgfSwKICAgIExpZ2h0ID0gewogICAgICAgIEJhY2tncm91bmQgPSBDb2xvcjMuZnJvbVJHQigyMzUsMjM1LDIzNSksCiAgICAgICAgU2VjdGlvbiAgICA9IENvbG9yMy5mcm9tUkdCKDIxMCwyMTAsMjEwKSwKICAgICAgICBBY2NlbnQgICAgID0gQ29sb3IzLmZyb21SR0IoNjAsMTgwLDc1KSwKICAgICAgICBUZXh0ICAgICAgID0gQ29sb3IzLmZyb21SR0IoMzAsMzAsMzApCiAgICB9Cn0KCmxvY2FsIEN1cnJlbnRUaGVtZSA9ICJEYXJrIgoKbG9jYWwgZnVuY3Rpb24gQXBwbHlUaGVtZSh0aGVtZU5hbWUpCiAgICBsb2NhbCB0ID0gVGhlbWVbdGhlbWVOYW1lXQogICAgaWYgbm90IHQgdGhlbiByZXR1cm4gZW5kCgogICAgZm9yIF8sdiBpbiBpcGFpcnMoZ2FtZTpHZXRTZXJ2aWNlKCJDb3JlR3VpIik6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICBpZiB2OklzQSgiRnJhbWUiKSB0aGVuCiAgICAgICAgICAgIHYuQmFja2dyb3VuZENvbG9yMyA9IHQuQmFja2dyb3VuZAogICAgICAgIGVsc2VpZiB2OklzQSgiVGV4dEJ1dHRvbiIpIHRoZW4KICAgICAgICAgICAgdi5CYWNrZ3JvdW5kQ29sb3IzID0gdC5TZWN0aW9uCiAgICAgICAgICAgIHYuVGV4dENvbG9yMyA9IHQuVGV4dAogICAgICAgIGVsc2VpZiB2OklzQSgiVGV4dExhYmVsIikgdGhlbgogICAgICAgICAgICB2LlRleHRDb2xvcjMgPSB0LlRleHQKICAgICAgICBlbmQKICAgIGVuZAplbmQKCi0tPT09PT0gS0VZIFNZU1RFTSAoU0FWRSBLRVkpID09PT09LS0KCmxvY2FsIFBsYXllcnMgPSBnYW1lOkdldFNlcnZpY2UoIlBsYXllcnMiKQpsb2NhbCBIdHRwU2VydmljZSA9IGdhbWU6R2V0U2VydmljZSgiSHR0cFNlcnZpY2UiKQpsb2NhbCBQbGF5ZXIgPSBQbGF5ZXJzLkxvY2FsUGxheWVyCgpsb2NhbCBLZXlGaWxlID0gIkNoZWVtSHViX0tleS5qc29uIgoKbG9jYWwgZnVuY3Rpb24gUmVzZXRLZXkoKQogICAgaWYgaXNmaWxlKEtleUZpbGUpIHRoZW4KICAgICAgICBkZWxmaWxlKEtleUZpbGUpCiAgICBlbmQKZW5kCgpsb2NhbCBWQUxJRF9LRVlTID0gewogICAgIjhTU0ExOEM3Mjg1MkFLWFQxQVMwMEdSIiwKICAgICI1RFNBSDgyNzM2MjY2QUhGTzY1NUFTRCIsCiAgICAiMkhGU0Q3NUFGNzRGU0VHTzc1NUhER0giLAogICAgIjFTR0RGNDRER0NGNjRGQ1NTSEc3NURGIgp9CgotLSA9PT09PSBDaGVjayBrZXkgPT09PT0KbG9jYWwgZnVuY3Rpb24gSXNWYWxpZEtleShrZXkpCiAgICBmb3IgXywgdiBpbiBpcGFpcnMoVkFMSURfS0VZUykgZG8KICAgICAgICBpZiBrZXkgPT0gdiB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICBlbmQKICAgIHJldHVybiBmYWxzZQplbmQKCi0tID09PT09IExvYWQgc2F2ZWQga2V5ID09PT09CmxvY2FsIGZ1bmN0aW9uIExvYWRTYXZlZEtleSgpCiAgICBpZiBpc2ZpbGUoS2V5RmlsZSkgdGhlbgogICAgICAgIGxvY2FsIHN1Y2Nlc3MsIGRhdGEgPSBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgIHJldHVybiBIdHRwU2VydmljZTpKU09ORGVjb2RlKHJlYWRmaWxlKEtleUZpbGUpKQogICAgICAgIGVuZCkKICAgICAgICBpZiBzdWNjZXNzIGFuZCBkYXRhIGFuZCBkYXRhLmtleSB0aGVuCiAgICAgICAgICAgIHJldHVybiBkYXRhLmtleQogICAgICAgIGVuZAogICAgZW5kCmVuZAoKLS0gPT09PT0gU2F2ZSBrZXkgPT09PT0KbG9jYWwgZnVuY3Rpb24gU2F2ZUtleShrZXkpCiAgICB3cml0ZWZpbGUoS2V5RmlsZSwgSHR0cFNlcnZpY2U6SlNPTkVuY29kZSh7CiAgICAgICAga2V5ID0ga2V5LAogICAgICAgIHRpbWUgPSBvcy50aW1lKCkKICAgIH0pKQplbmQKCi0tID09PT09PT09PT09PT09PT09IEFVVE8gTE9HSU4gPT09PT09PT09PT09PT09PT0KbG9jYWwgc2F2ZWRLZXkgPSBMb2FkU2F2ZWRLZXkoKQpsb2NhbCBLZXlQYXNzZWQgPSBmYWxzZQoKaWYgc2F2ZWRLZXkgYW5kIElzVmFsaWRLZXkoc2F2ZWRLZXkpIHRoZW4KICAgIHByaW50KCJDaGVlbUh1YjogQXV0byBsb2dpbiBzdWNjZXNzIikKICAgIEtleVBhc3NlZCA9IHRydWUKZW5kCgppZiBub3QgS2V5UGFzc2VkIHRoZW4KCi0tID09PT09PT09PT09PT09PT09IEtFWSBVSSA9PT09PT09PT09PT09PT09PQpsb2NhbCBTY3JlZW5HdWkgPSBJbnN0YW5jZS5uZXcoIlNjcmVlbkd1aSIpClNjcmVlbkd1aS5OYW1lID0gIkNoZWVtSHViX0tleVVJIgpTY3JlZW5HdWkuUGFyZW50ID0gUGxheWVyOldhaXRGb3JDaGlsZCgiUGxheWVyR3VpIikKCmxvY2FsIEZyYW1lID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIFNjcmVlbkd1aSkKRnJhbWUuU2l6ZSA9IFVEaW0yLmZyb21TY2FsZSgwLjM1LCAwLjI1KQpGcmFtZS5Qb3NpdGlvbiA9IFVEaW0yLmZyb21TY2FsZSgwLjMyNSwgMC4zNSkKRnJhbWUuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1LDI1LDI1KQpGcmFtZS5Cb3JkZXJTaXplUGl4ZWwgPSAwCkZyYW1lLkFjdGl2ZSA9IHRydWUKRnJhbWUuRHJhZ2dhYmxlID0gdHJ1ZQoKbG9jYWwgVUlDb3JuZXIgPSBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgRnJhbWUpClVJQ29ybmVyLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsMTApCgpsb2NhbCBUaXRsZSA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgRnJhbWUpClRpdGxlLlNpemUgPSBVRGltMi5mcm9tU2NhbGUoMSwwLjI1KQpUaXRsZS5CYWNrZ3JvdW5kVHJhbnNwYXJlbmN5ID0gMQpUaXRsZS5UZXh0ID0gIkNoZWVtIEh1YiB8IEtleSBTeXN0ZW0iClRpdGxlLlRleHRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsMjAwLDApClRpdGxlLlRleHRTY2FsZWQgPSB0cnVlClRpdGxlLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAoKbG9jYWwgQm94ID0gSW5zdGFuY2UubmV3KCJUZXh0Qm94IiwgRnJhbWUpCkJveC5TaXplID0gVURpbTIuZnJvbVNjYWxlKDAuOSwwLjI1KQpCb3guUG9zaXRpb24gPSBVRGltMi5mcm9tU2NhbGUoMC4wNSwwLjM1KQpCb3guUGxhY2Vob2xkZXJUZXh0ID0gIktleSBIZXJlIgpCb3guVGV4dCA9ICIiCkJveC5UZXh0U2NhbGVkID0gdHJ1ZQpCb3guQ2xlYXJUZXh0T25Gb2N1cyA9IGZhbHNlCkJveC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsMzUsMzUpCkJveC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLDEsMSkKCkluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBCb3gpLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsNikKCmxvY2FsIEJ0biA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIsIEZyYW1lKQpCdG4uU2l6ZSA9IFVEaW0yLmZyb21TY2FsZSgwLjUsMC4yMikKQnRuLlBvc2l0aW9uID0gVURpbTIuZnJvbVNjYWxlKDAuMjUsMC42OCkKQnRuLlRleHQgPSAiQ2hlY2sgS2V5IgpCdG4uVGV4dFNjYWxlZCA9IHRydWUKQnRuLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsMjAwLDApCkJ0bi5UZXh0Q29sb3IzID0gQ29sb3IzLmZyb21SR0IoMCwwLDApCgpJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgQnRuKS5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDYpCgotLSA9PT09PSBCdXR0b24gbG9naWMgPT09PT0KQnRuLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgbG9jYWwga2V5ID0gQm94LlRleHQKCiAgICBpZiBJc1ZhbGlkS2V5KGtleSkgdGhlbgogICAgICAgIFNhdmVLZXkoa2V5KQogICAgICAgIFNjcmVlbkd1aTpEZXN0cm95KCkKICAgICAgICBwcmludCgiQ2hlZW1IdWI6IEtleSB2ZXJpZmllZCIpCiAgICBlbHNlCiAgICAgICAgQm94LlRleHQgPSAiIgogICAgICAgIEJ0bi5UZXh0ID0gIldyb25nIEtleSIKICAgICAgICBCdG4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSw4MCw4MCkKICAgICAgICB0YXNrLndhaXQoMSkKICAgICAgICBCdG4uVGV4dCA9ICJDaGVjayBLZXkiCiAgICAgICAgQnRuLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsMjAwLDApCiAgICBlbmQKZW5kKQoKcmVwZWF0IHRhc2sud2FpdCgpIHVudGlsIG5vdCBTY3JlZW5HdWkuUGFyZW50CgplbmQKCi0tPT09PT09PT09PT09PT09PT09PT09PSBOT1RJRlkgPT09PT09PT09PT09PT09PT09PT09PS0tCmxvY2FsIGZ1bmN0aW9uIE5vdGlmeSh0eHQsIHQpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgU3RhcnRlckd1aTpTZXRDb3JlKCJTZW5kTm90aWZpY2F0aW9uIix7CiAgICAgICAgICAgIFRpdGxlID0gIkNoZWVtIEh1YiIsCiAgICAgICAgICAgIFRleHQgPSB0eHQsCiAgICAgICAgICAgIER1cmF0aW9uID0gdCBvciA0CiAgICAgICAgfSkKICAgIGVuZCkKZW5kCgpOb3RpZnkoIkxvYWRpbmcgQ2hlZW0gSHViLi4uIikKCi0tPT09PT09PT09PT09PT09PT09PT09PSBDT05GSUcgPT09PT09PT09PT09PT09PT09PT09PS0tCmxvY2FsIENvbmZpZ0ZpbGUgPSAiQ2hlZW1IdWJfQ29uZmlnLmpzb24iCgpsb2NhbCBDaGVlbSA9IHt9Cgpsb2NhbCBhdHRhY2tpbmcgPSBmYWxzZQpsb2NhbCBsYXN0UXVlc3QgPSAiIgoKQ2hlZW0uQXV0b0NsaWNrID0gZmFsc2UKQ2hlZW0uRmFzdEF0dGFjayA9IGZhbHNlCkNoZWVtLkF1dG9UcmlhbCA9IGZhbHNlCgpDaGVlbS5XZWFwb24gPSAiTWVsZWUiICAgICAgLS0gdsWpIGtow60gZMO5bmcga2hpIEF1dG8gRmFybQpDaGVlbS5UcmlhbFdlYXBvbiA9ICJNZWxlZSIgLS0gdsWpIGtow60gZMO5bmcga2hpIMSRw6FuaCBUcmlhbAoKLS0vLyA9PT09PT09PT09PT09PT09PSBTRUEgREVURUNUID09PT09PT09PT09PT09PT09CmxvY2FsIGZ1bmN0aW9uIEdldFNlYSgpCiAgICBpZiBnYW1lLlBsYWNlSWQgPT0gMjc1MzkxNTU0OSB0aGVuCiAgICAgICAgcmV0dXJuIDEKICAgIGVsc2VpZiBnYW1lLlBsYWNlSWQgPT0gNDQ0MjI3MjE4MyB0aGVuCiAgICAgICAgcmV0dXJuIDIKICAgIGVsc2VpZiBnYW1lLlBsYWNlSWQgPT0gNzQ0OTQyMzYzNSB0aGVuCiAgICAgICAgcmV0dXJuIDMKICAgIGVuZAplbmQKCmxvY2FsIEN1cnJlbnRTZWEgPSBHZXRTZWEoKQoKbG9jYWwgZnVuY3Rpb24gVXBkYXRlU2VhKCkKICAgIEN1cnJlbnRTZWEgPSBHZXRTZWEoKQplbmQKCi0tPT09PT09PT09IExPT1AgVVBEQVRFIFNFQSA9PT09PT0tLQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgyKSBkbwogICAgICAgIFVwZGF0ZVNlYSgpCiAgICBlbmQKZW5kKQoKLS0gPT09PT0gTE9PUCBDSEVDSyBNQVAgVFJJQUwgPT09PT09PT09PT09PT0tLQpsb2NhbCBmdW5jdGlvbiBJc0luVHJpYWwoKQogICAgbG9jYWwgcGxhY2UgPSBnYW1lLlBsYWNlSWQKICAgIC0tIFRyaWFsIFY0IG1hcAogICAgcmV0dXJuIHBsYWNlID09IDc0NDk0MjM2MzUgb3IgcGxhY2UgPT0gNDQ0MjI3MjE4MwplbmQKCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KDEpIGRvCiAgICAgICAgQ2hlZW0uSW5UcmlhbCA9IElzSW5UcmlhbCgpCiAgICBlbmQKZW5kKQoKLS09PT09PT09PT09PT09PT09IE1JU1NJTkcgRlVOQ1RJT05TIEZJWCA9PT09PT09PT09PT09PT09PS0tCgpmdW5jdGlvbiBFcXVpcEZhcm1XZWFwb24oKQogICAgbG9jYWwgY2hhciA9IFBsYXllci5DaGFyYWN0ZXIKICAgIGlmIG5vdCBjaGFyIHRoZW4gcmV0dXJuIGVuZAoKICAgIGxvY2FsIHdlYXBvbiA9IENoZWVtLkluVHJpYWwgYW5kIENoZWVtLlRyaWFsV2VhcG9uIG9yIENoZWVtLldlYXBvbgogICAgaWYgbm90IHdlYXBvbiB0aGVuIHJldHVybiBlbmQKCiAgICBmb3IgXyx0b29sIGluIHBhaXJzKFBsYXllci5CYWNrcGFjazpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHRvb2w6SXNBKCJUb29sIikgdGhlbgogICAgICAgICAgICBpZiB3ZWFwb24gPT0gIk1lbGVlIiB0aGVuCiAgICAgICAgICAgICAgICBjaGFyLkh1bWFub2lkOkVxdWlwVG9vbCh0b29sKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBpZiB3ZWFwb24gPT0gIlN3b3JkIiBhbmQgdG9vbC5Ub29sVGlwOmxvd2VyKCk6ZmluZCgic3dvcmQiKSB0aGVuCiAgICAgICAgICAgICAgICBjaGFyLkh1bWFub2lkOkVxdWlwVG9vbCh0b29sKQogICAgICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIGVuZAogICAgICAgICAgICBpZiB3ZWFwb24gPT0gIkd1biIgYW5kIHRvb2wuVG9vbFRpcDpsb3dlcigpOmZpbmQoImd1biIpIHRoZW4KICAgICAgICAgICAgICAgIGNoYXIuSHVtYW5vaWQ6RXF1aXBUb29sKHRvb2wpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCgpmdW5jdGlvbiBCdXlTdHlsZShzdHlsZSkKICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICBSZXBsaWNhdGVkU3RvcmFnZS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIkJ1eSIgLi4gc3R5bGUpCiAgICBlbmQpCmVuZAoKZnVuY3Rpb24gSG9wU2VydmVyKCkKICAgIGxvY2FsIHNlcnZlcnMgPSBnYW1lOkdldFNlcnZpY2UoIkh0dHBTZXJ2aWNlIik6SlNPTkRlY29kZSgKICAgICAgICBnYW1lOkh0dHBHZXQoImh0dHBzOi8vZ2FtZXMucm9ibG94LmNvbS92MS9nYW1lcy8iLi5nYW1lLlBsYWNlSWQuLiIvc2VydmVycy9QdWJsaWM/c29ydE9yZGVyPUFzYyZsaW1pdD0xMDAiKQogICAgKQoKICAgIGZvciBfLHMgaW4gcGFpcnMoc2VydmVycy5kYXRhKSBkbwogICAgICAgIGlmIHMucGxheWluZyA8IHMubWF4UGxheWVycyB0aGVuCiAgICAgICAgICAgIFRlbGVwb3J0U2VydmljZTpUZWxlcG9ydFRvUGxhY2VJbnN0YW5jZShnYW1lLlBsYWNlSWQsIHMuaWQsIFBsYXllcikKICAgICAgICAgICAgYnJlYWsKICAgICAgICBlbmQKICAgIGVuZAplbmQKCmZ1bmN0aW9uIFNhdmVDb25maWcoKQogICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgIHdyaXRlZmlsZSgiQ2hlZW1IdWJfQ29uZmlnLmpzb24iLCBIdHRwU2VydmljZTpKU09ORW5jb2RlKENoZWVtKSkKICAgIGVuZCkKZW5kCgotLT09PT09PT09PT09PT09PT0gRU5EIEZJWCA9PT09PT09PT09PT09PT09PS0tCgotLSA9PT09PT09PT09PT09PT09PSBOT0NMSVAgPT09PT09PT09PT09PT09PT0KZ2FtZTpHZXRTZXJ2aWNlKCJSdW5TZXJ2aWNlIikuU3RlcHBlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIGlmIENoZWVtLk5vY2xpcCB0aGVuCiAgICAgICAgbG9jYWwgY2hhciA9IFBsYXllci5DaGFyYWN0ZXIKICAgICAgICBpZiBjaGFyIHRoZW4KICAgICAgICAgICAgZm9yIF8sdiBpbiBwYWlycyhjaGFyOkdldERlc2NlbmRhbnRzKCkpIGRvCiAgICAgICAgICAgICAgICBpZiB2OklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgICAgICAgICAgdi5DYW5Db2xsaWRlID0gZmFsc2UKICAgICAgICAgICAgICAgIGVuZAogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQpCgotLSA9PT09PT09PT09PT09PT09PSBGTFkgPT09PT09PT09PT09PT09PT0KbG9jYWwgRmx5QlYsIEZseUJHCgpnYW1lOkdldFNlcnZpY2UoIlJ1blNlcnZpY2UiKS5SZW5kZXJTdGVwcGVkOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgaWYgbm90IENoZWVtLkZseSB0aGVuCiAgICAgICAgaWYgRmx5QlYgdGhlbiBGbHlCVjpEZXN0cm95KCkgRmx5QlY9bmlsIGVuZAogICAgICAgIGlmIEZseUJHIHRoZW4gRmx5Qkc6RGVzdHJveSgpIEZseUJHPW5pbCBlbmQKICAgICAgICByZXR1cm4KICAgIGVuZAoKICAgIGxvY2FsIGNoYXIgPSBQbGF5ZXIuQ2hhcmFjdGVyCiAgICBsb2NhbCBocnAgPSBjaGFyIGFuZCBjaGFyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgIGlmIG5vdCBocnAgdGhlbiByZXR1cm4gZW5kCgogICAgaWYgbm90IEZseUJWIHRoZW4KICAgICAgICBGbHlCViA9IEluc3RhbmNlLm5ldygiQm9keVZlbG9jaXR5IikKICAgICAgICBGbHlCVi5NYXhGb3JjZSA9IFZlY3RvcjMubmV3KDllOSw5ZTksOWU5KQogICAgICAgIEZseUJWLlZlbG9jaXR5ID0gVmVjdG9yMy56ZXJvCiAgICAgICAgRmx5QlYuUGFyZW50ID0gaHJwCgogICAgICAgIEZseUJHID0gSW5zdGFuY2UubmV3KCJCb2R5R3lybyIpCiAgICAgICAgRmx5QkcuTWF4VG9ycXVlID0gVmVjdG9yMy5uZXcoOWU5LDllOSw5ZTkpCiAgICAgICAgRmx5QkcuQ0ZyYW1lID0gaHJwLkNGcmFtZQogICAgICAgIEZseUJHLlBhcmVudCA9IGhycAogICAgZW5kCgogICAgbG9jYWwgY2FtID0gd29ya3NwYWNlLkN1cnJlbnRDYW1lcmEKICAgIEZseUJHLkNGcmFtZSA9IGNhbS5DRnJhbWUKICAgIEZseUJWLlZlbG9jaXR5ID0gY2FtLkNGcmFtZS5Mb29rVmVjdG9yICogODAKZW5kKQoKLS09PT09PSBMT09QID09PT09PT0tLQpVc2VySW5wdXRTZXJ2aWNlLkp1bXBSZXF1ZXN0OkNvbm5lY3QoZnVuY3Rpb24oKQogICAgaWYgQ2hlZW0uSW5mSnVtcCB0aGVuCiAgICAgICAgbG9jYWwgY2hhciA9IFBsYXllci5DaGFyYWN0ZXIKICAgICAgICBpZiBub3QgY2hhciB0aGVuIHJldHVybiBlbmQKICAgICAgICBsb2NhbCBodW0gPSBjaGFyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIGh1bSB0aGVuCiAgICAgICAgICAgIGh1bTpDaGFuZ2VTdGF0ZShFbnVtLkh1bWFub2lkU3RhdGVUeXBlLkp1bXBpbmcpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQoKQ2hlZW0uSW5UcmlhbCA9IGZhbHNlCgpDaGVlbS5XYWxrU3BlZWQgPSAxNgpDaGVlbS5KdW1wUG93ZXIgPSA1MApDaGVlbS5JbmZKdW1wID0gZmFsc2UKCkNoZWVtLkJ1eUNoaXAgPSBmYWxzZQpDaGVlbS5DaGlwRnJ1aXQgPSAiRmxhbWUiCgotLSA9PT09PSBBV0FLRU4gUkFJRCA9PT09PQpDaGVlbS5BdXRvQXdha2VuID0gZmFsc2UKQ2hlZW0uQXdha2VuU2tpbGwgPSAiWiIKQ2hlZW0uQXV0b1JhaWQgPSBmYWxzZQpDaGVlbS5SYWlkVGVsZXBvcnQgPSB0cnVlCgotLT09PT09PT09PT09PT09PT09IFJBSUQgVEVMRVBPUlQgPT09PT09PT09PT09PT09PT0KbG9jYWwgZnVuY3Rpb24gVGVsZXBvcnRUb1JhaWQoKQogICAgaWYgbm90IENoZWVtLlJhaWRUZWxlcG9ydCB0aGVuIHJldHVybiBlbmQKCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgUmVwbGljYXRlZFN0b3JhZ2UuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKCJSYWlkc05wYyIsIlNlbGVjdCIsIkZsYW1lIikKICAgICAgICBSZXBsaWNhdGVkU3RvcmFnZS5SZW1vdGVzLkNvbW1GXzpJbnZva2VTZXJ2ZXIoIlJhaWRzTnBjIiwiU3RhcnQiKQogICAgZW5kKQplbmQKCi0tPT09PT09PT09PT09PT09PT09PT0gQlVZIENISVAgPT09PT09PT09PT09PT09PT09PT09PT0KbG9jYWwgZnVuY3Rpb24gQnV5Q2hpcCgpCiAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgUmVwbGljYXRlZFN0b3JhZ2UuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKAogICAgICAgICAgICAiUmFpZHNOcGMiLAogICAgICAgICAgICAiU2VsZWN0IiwKICAgICAgICAgICAgQ2hlZW0uQ2hpcEZydWl0CiAgICAgICAgKQogICAgZW5kKQplbmQKCi0tPT09PT09PT09PT09PT09PT0gQVVUTyBBV0FLRU4gTE9PUCA9PT09PT09PT09PT09PT09PQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgwLjMpIGRvCiAgICAgICAgaWYgbm90IENoZWVtLkF1dG9Bd2FrZW4gdGhlbiBjb250aW51ZSBlbmQKCiAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBUZWxlcG9ydFRvUmFpZCgpCiAgICAgICAgICAgIEF0dGFja1JhaWRNb2IoKQogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCgotLT09PT09PT09PT09PT09PT0gTE9PUCBCVVkgQ0hJUCA9PT09PT09PT09PT09PT09CnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgd2hpbGUgdGFzay53YWl0KDUpIGRvCiAgICAgICAgaWYgQ2hlZW0uQnV5Q2hpcCB0aGVuCiAgICAgICAgICAgIEJ1eUNoaXAoKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKCi0tLT09PT09PT09PT09PT09PT0gQVRUQUNLIFJBSUQgTU9CIChGSVhFRCkgPT09PT09PT09PT09PT09PT0tLQpsb2NhbCBhdHRhY2tpbmdSYWlkID0gZmFsc2UKCmZ1bmN0aW9uIEF0dGFja1JhaWRNb2IoKQogICAgaWYgYXR0YWNraW5nUmFpZCB0aGVuIHJldHVybiBlbmQKICAgIGF0dGFja2luZ1JhaWQgPSB0cnVlCgogICAgbG9jYWwgY2hhciA9IFBsYXllci5DaGFyYWN0ZXIKICAgIGlmIG5vdCBjaGFyIHRoZW4gYXR0YWNraW5nUmFpZCA9IGZhbHNlIHJldHVybiBlbmQKCiAgICBsb2NhbCBocnAgPSBjaGFyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgIGxvY2FsIGh1bSA9IGNoYXI6RmluZEZpcnN0Q2hpbGRPZkNsYXNzKCJIdW1hbm9pZCIpCiAgICBpZiBub3QgaHJwIG9yIG5vdCBodW0gb3IgaHVtLkhlYWx0aCA8PSAwIHRoZW4KICAgICAgICBhdHRhY2tpbmdSYWlkID0gZmFsc2UKICAgICAgICByZXR1cm4KICAgIGVuZAoKICAgIGxvY2FsIGVuZW1pZXMgPSB3b3Jrc3BhY2U6RmluZEZpcnN0Q2hpbGQoIkVuZW1pZXMiKQogICAgaWYgbm90IGVuZW1pZXMgdGhlbgogICAgICAgIGF0dGFja2luZ1JhaWQgPSBmYWxzZQogICAgICAgIHJldHVybgogICAgZW5kCgogICAgZm9yIF8sIG1vYiBpbiBwYWlycyhlbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgbm90IENoZWVtLkF1dG9UcmlhbCB0aGVuIGJyZWFrIGVuZAoKICAgICAgICBpZiBtb2I6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkIikKICAgICAgICBhbmQgbW9iOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICBhbmQgbW9iLkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgoKICAgICAgICAgICAgbG9jYWwgbWh1bSA9IG1vYi5IdW1hbm9pZAogICAgICAgICAgICBsb2NhbCBtaHJwID0gbW9iLkh1bWFub2lkUm9vdFBhcnQKCiAgICAgICAgICAgIC0tIPCflJIgR2nhu68gbeG7pWMgdGnDqnUgY2hvIMSR4bq/biBraGkgY2jhur90CiAgICAgICAgICAgIHdoaWxlIG1odW0uSGVhbHRoID4gMCBhbmQgQ2hlZW0uQXV0b1RyaWFsIGRvCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgaHJwLkNGcmFtZSA9IG1ocnAuQ0ZyYW1lICogQ0ZyYW1lLm5ldygwLCAxMCwgMCkKICAgICAgICAgICAgICAgIGVuZCkKCiAgICAgICAgICAgICAgICAtLSBFcXVpcCDEkcO6bmcgdsWpIGtow60gVHJpYWwKICAgICAgICAgICAgICAgIEVxdWlwRmFybVdlYXBvbigpCgogICAgICAgICAgICAgICAgLS0gQ2xpY2sgxJHDoW5oCiAgICAgICAgICAgICAgICBWaXJ0dWFsVXNlcjpCdXR0b24xRG93bihWZWN0b3IyLm5ldygwLDApKQogICAgICAgICAgICAgICAgdGFzay53YWl0KDAuMDUpCiAgICAgICAgICAgICAgICBWaXJ0dWFsVXNlcjpCdXR0b24xVXAoVmVjdG9yMi5uZXcoMCwwKSkKCiAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4xKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAoKICAgIGF0dGFja2luZ1JhaWQgPSBmYWxzZQplbmQKCi0tPT09PT09PT09PT09PT09PSBBVVRPIEZJR0hUIFRSSUFMIExPT1AgPT09PT09PT09PT09PT09PT0tLQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgwLjMpIGRvCiAgICAgICAgaWYgQ2hlZW0uQXV0b1RyaWFsIGFuZCBDaGVlbS5JblRyaWFsIHRoZW4KICAgICAgICAgICAgcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgQXR0YWNrUmFpZE1vYigpCiAgICAgICAgICAgIGVuZCkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCgpsb2NhbCBHYW1lQ29kZXMgPSB7CiAgICAiU0VDUkVUX0FETUlOIiwKICAgICJTVUIyR0FNRVJST0JPVF9FWFAxIiwKICAgICJTVUIyTk9PQk1BU1RFUjEyMyIsCiAgICAiU1VCMlVOQ0xFS0laQVJVIiwKICAgICJTVUIyREFJR1JPQ0siLAogICAgIkFYSU9SRSIsCiAgICAiQklHTkVXUyIsCiAgICAiU1RSQVdIQVRNQUlORSIsCiAgICAiVEFOVEFJX0dBTUlORyIsCiAgICAiU1VCMkZFUjk5OSIsCiAgICAiVEhFR1JFQVRBQ0UiLAogICAgIktJVFRfUkVTRVQiLAogICAgIlNVQjJHQU1FUlJPQk9UX1JFU0VUMSIsCiAgICAiRlVERDEwIiwKICAgICJGVUREMTBfVjIiLAogICAgIkNIQU5ETEVSIiwKICAgICJFTllVX0lTX1BSTyIsCiAgICAiU1RBUkNPREVIRU8iLAogICAgIkJMVVhYWSIsCiAgICAiSkNXSyIsCiAgICAiTUFHSUNCVVMiLAp9Cgpsb2NhbCBSZWRlZW1lZENvZGVzID0ge30KCmxvY2FsIGZ1bmN0aW9uIFJlZGVlbUNvZGUoY29kZSkKICAgIGlmIFJlZGVlbWVkQ29kZXNbY29kZV0gdGhlbiByZXR1cm4gZW5kCgogICAgbG9jYWwgc3VjY2VzcyA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICBnYW1lOkdldFNlcnZpY2UoIlJlcGxpY2F0ZWRTdG9yYWdlIikKICAgICAgICAgICAgLlJlbW90ZXMuUmVkZWVtOkludm9rZVNlcnZlcihjb2RlKQogICAgZW5kKQoKICAgIGlmIHN1Y2Nlc3MgdGhlbgogICAgICAgIFJlZGVlbWVkQ29kZXNbY29kZV0gPSB0cnVlCiAgICAgICAgTm90aWZ5KCLinIUgUmVkZWVtOiAiLi5jb2RlLCAyKQogICAgZWxzZQogICAgICAgIE5vdGlmeSgi4p2MIEZhaWw6ICIuLmNvZGUsIDIpCiAgICBlbmQKZW5kCgpDaGVlbS5TbWFydFY0ID0gQ2hlZW0uU21hcnRWNCBvciBmYWxzZQpDaGVlbS5BdXRvSG9wID0gQ2hlZW0uQXV0b0hvcCBvciBmYWxzZQpDaGVlbS5BdXRvQmx1ZUdlYXIgPSBDaGVlbS5BdXRvQmx1ZUdlYXIgb3IgZmFsc2UKQ2hlZW0uSG9wTW9kZSA9IENoZWVtLkhvcE1vZGUgb3IgIk5vbmUiCgpsb2NhbCBEZWZhdWx0Q29uZmlnID0gewogICAgQXV0b0Zhcm0gPSBmYWxzZSwKICAgIFdlYXBvbiA9ICJNZWxlZSIsCiAgICBUZWxlcG9ydCA9IHRydWUsCiAgICBBdXRvRXF1aXAgPSB0cnVlLAoKICAgIEF1dG9Ib3AgPSBmYWxzZSwKICAgIEhvcE1vZGUgPSAiTm9uZSIsCiAgICBBdXRvQmx1ZUdlYXIgPSBmYWxzZQp9CgotLT09PT09PT09PT09PT09PT09PT09PT0gQU5USSBBRksgPT09PT09PT09PT09PT09PT09PT09PS0tClBsYXllci5JZGxlZDpDb25uZWN0KGZ1bmN0aW9uKCkKICAgIFZpcnR1YWxVc2VyOkJ1dHRvbjJEb3duKFZlY3RvcjIubmV3KDAsMCksIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZSkKICAgIHRhc2sud2FpdCgxKQogICAgVmlydHVhbFVzZXI6QnV0dG9uMlVwKFZlY3RvcjIubmV3KDAsMCksIHdvcmtzcGFjZS5DdXJyZW50Q2FtZXJhLkNGcmFtZSkKZW5kKQoKLS09PT09PT09PT09PT09PT09PT09PT09IFVUSUxTID09PT09PT09PT09PT09PT09PT09PT0tLQpsb2NhbCBmdW5jdGlvbiBUUChjZikKICAgIGlmIG5vdCBDaGVlbS5UZWxlcG9ydCB0aGVuIHJldHVybiBlbmQKICAgIGxvY2FsIGhycCA9IFBsYXllci5DaGFyYWN0ZXIgYW5kIFBsYXllci5DaGFyYWN0ZXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQogICAgaWYgaHJwIHRoZW4KICAgICAgICBocnAuQ0ZyYW1lID0gY2YKICAgIGVuZAplbmQKCmxvY2FsIGZ1bmN0aW9uIEVxdWlwV2VhcG9uKCkKICAgIGlmIG5vdCBDaGVlbS5BdXRvRXF1aXAgdGhlbiByZXR1cm4gZW5kCiAgICBsb2NhbCBjaGFyID0gUGxheWVyLkNoYXJhY3RlcgogICAgaWYgbm90IGNoYXIgdGhlbiByZXR1cm4gZW5kCiAgICBmb3IgXyx0b29sIGluIHBhaXJzKFBsYXllci5CYWNrcGFjazpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHRvb2w6SXNBKCJUb29sIikgdGhlbgogICAgICAgICAgICBjaGFyLkh1bWFub2lkOkVxdWlwVG9vbCh0b29sKQogICAgICAgICAgICBicmVhawogICAgICAgIGVuZAogICAgZW5kCmVuZAoKLS09PT09PT09PT09PT09PT09PT09PT09IFFVRVNUIERBVEEgKFNFQSAxKSA9PT09PT09PT09PT09PT09PT09PT09LS0KbG9jYWwgUXVlc3REYXRhID0gewoKICAgIC0tIFNUQVJUIElTTEFORAogICAgewogICAgICAgIE1pbiA9IDEsIE1heCA9IDksCiAgICAgICAgUXVlc3ROYW1lID0gIkJhbmRpdFF1ZXN0MSIsCiAgICAgICAgUXVlc3RMZXZlbCA9IDEsCiAgICAgICAgTW9iTmFtZSA9ICJCYW5kaXQiLAogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoMTA2MCwgMTYsIDE1NDcpCiAgICB9LAogICAgewogICAgICAgIE1pbiA9IDEwLCBNYXggPSAxNCwKICAgICAgICBRdWVzdE5hbWUgPSAiQmFuZGl0UXVlc3QxIiwKICAgICAgICBRdWVzdExldmVsID0gMiwKICAgICAgICBNb2JOYW1lID0gIk1vbmtleSIsCiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtMTYwMCwgMzYsIDE1MCkKICAgIH0sCgogICAgLS0gSlVOR0xFCiAgICB7CiAgICAgICAgTWluID0gMTUsIE1heCA9IDI5LAogICAgICAgIFF1ZXN0TmFtZSA9ICJKdW5nbGVRdWVzdCIsCiAgICAgICAgUXVlc3RMZXZlbCA9IDEsCiAgICAgICAgTW9iTmFtZSA9ICJHb3JpbGxhIiwKICAgICAgICBJc2xhbmRQb3MgPSBDRnJhbWUubmV3KC0xNjAwLCAzNiwgMTUwKQogICAgfSwKICAgIHsKICAgICAgICBNaW4gPSAzMCwgTWF4ID0gMzksCiAgICAgICAgUXVlc3ROYW1lID0gIkp1bmdsZVF1ZXN0IiwKICAgICAgICBRdWVzdExldmVsID0gMiwKICAgICAgICBNb2JOYW1lID0gIkdvcmlsbGEgS2luZyIsCiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtMTYwMCwgMzYsIDE1MCkKICAgIH0sCgogICAgLS0gUElSQVRFIFZJTExBR0UKICAgIHsKICAgICAgICBNaW4gPSA0MCwgTWF4ID0gNTksCiAgICAgICAgUXVlc3ROYW1lID0gIkJ1Z2d5UXVlc3QxIiwKICAgICAgICBRdWVzdExldmVsID0gMSwKICAgICAgICBNb2JOYW1lID0gIlBpcmF0ZSIsCiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtMTEwMCwgMTMsIDM4MDApCiAgICB9LAogICAgewogICAgICAgIE1pbiA9IDYwLCBNYXggPSA3NCwKICAgICAgICBRdWVzdE5hbWUgPSAiQnVnZ3lRdWVzdDEiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAyLAogICAgICAgIE1vYk5hbWUgPSAiQnJ1dGUiLAogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoLTExMDAsIDEzLCAzODAwKQogICAgfSwKCiAgICAtLSBERVNFUlQKICAgIHsKICAgICAgICBNaW4gPSA3NSwgTWF4ID0gODksCiAgICAgICAgUXVlc3ROYW1lID0gIkRlc2VydFF1ZXN0IiwKICAgICAgICBRdWVzdExldmVsID0gMSwKICAgICAgICBNb2JOYW1lID0gIkRlc2VydCBCYW5kaXQiLAogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoOTMwLCA3LCA0NDgwKQogICAgfSwKICAgIHsKICAgICAgICBNaW4gPSA5MCwgTWF4ID0gOTksCiAgICAgICAgUXVlc3ROYW1lID0gIkRlc2VydFF1ZXN0IiwKICAgICAgICBRdWVzdExldmVsID0gMiwKICAgICAgICBNb2JOYW1lID0gIkRlc2VydCBPZmZpY2VyIiwKICAgICAgICBJc2xhbmRQb3MgPSBDRnJhbWUubmV3KDkzMCwgNywgNDQ4MCkKICAgIH0sCgogICAgLS0gRlJPWkVOIFZJTExBR0UKICAgIHsKICAgICAgICBNaW4gPSAxMDAsIE1heCA9IDExOSwKICAgICAgICBRdWVzdE5hbWUgPSAiU25vd1F1ZXN0IiwKICAgICAgICBRdWVzdExldmVsID0gMSwKICAgICAgICBNb2JOYW1lID0gIlNub3cgQmFuZGl0IiwKICAgICAgICBJc2xhbmRQb3MgPSBDRnJhbWUubmV3KDEzODAsIDg3LCAtMTI5MCkKICAgIH0sCiAgICB7CiAgICAgICAgTWluID0gMTIwLCBNYXggPSAxNDksCiAgICAgICAgUXVlc3ROYW1lID0gIlNub3dRdWVzdCIsCiAgICAgICAgUXVlc3RMZXZlbCA9IDIsCiAgICAgICAgTW9iTmFtZSA9ICJTbm93bWFuIiwKICAgICAgICBJc2xhbmRQb3MgPSBDRnJhbWUubmV3KDEzODAsIDg3LCAtMTI5MCkKICAgIH0sCgogICAgLS0gTUFSSU5FRk9SRAogICAgewogICAgICAgIE1pbiA9IDE1MCwgTWF4ID0gMTc0LAogICAgICAgIFF1ZXN0TmFtZSA9ICJNYXJpbmVRdWVzdDIiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAxLAogICAgICAgIE1vYk5hbWUgPSAiQ2hpZWYgUGV0dHkgT2ZmaWNlciIsCiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtNTAzMCwgMjksIDQzMjUpCiAgICB9LAogICAgewogICAgICAgIE1pbiA9IDE3NSwgTWF4ID0gMTg5LAogICAgICAgIFF1ZXN0TmFtZSA9ICJNYXJpbmVRdWVzdDIiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAyLAogICAgICAgIE1vYk5hbWUgPSAiU2t5IEJhbmRpdCIsCiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtNTAzMCwgMjksIDQzMjUpCiAgICB9LAoKICAgIC0tIFNLWSBJU0xBTkQKICAgIHsKICAgICAgICBNaW4gPSAxOTAsIE1heCA9IDIwOSwKICAgICAgICBRdWVzdE5hbWUgPSAiU2t5UXVlc3QiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAxLAogICAgICAgIE1vYk5hbWUgPSAiRGFyayBNYXN0ZXIiLAogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoLTQ4NTAsIDcxNywgLTI2MjApCiAgICB9LAoKICAgIC0tIFBSSVNPTgogICAgewogICAgICAgIE1pbiA9IDIxMCwgTWF4ID0gMjQ5LAogICAgICAgIFF1ZXN0TmFtZSA9ICJQcmlzb25RdWVzdCIsCiAgICAgICAgUXVlc3RMZXZlbCA9IDEsCiAgICAgICAgTW9iTmFtZSA9ICJQcmlzb25lciIsCiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldyg0ODUwLCA1LCA3MzUpCiAgICB9LAoKICAgIC0tIENPTE9TU0VVTQogICAgewogICAgICAgIE1pbiA9IDI1MCwgTWF4ID0gMjk5LAogICAgICAgIFF1ZXN0TmFtZSA9ICJDb2xvc3NldW1RdWVzdCIsCiAgICAgICAgUXVlc3RMZXZlbCA9IDEsCiAgICAgICAgTW9iTmFtZSA9ICJUb2dhIFdhcnJpb3IiLAogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoLTE1MDAsIDcsIC0zMDAwKQogICAgfSwKCiAgICAtLSBNQUdNQSBWSUxMQUdFCiAgICB7CiAgICAgICAgTWluID0gMzAwLCBNYXggPSAzMjQsCiAgICAgICAgUXVlc3ROYW1lID0gIk1hZ21hUXVlc3QiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAxLAogICAgICAgIE1vYk5hbWUgPSAiTWlsaXRhcnkgU29sZGllciIsCiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldygtNTI1MCwgOCwgODUwMCkKICAgIH0sCiAgICB7CiAgICAgICAgTWluID0gMzI1LCBNYXggPSAzNzQsCiAgICAgICAgUXVlc3ROYW1lID0gIk1hZ21hUXVlc3QiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAyLAogICAgICAgIE1vYk5hbWUgPSAiTWlsaXRhcnkgU3B5IiwKICAgICAgICBJc2xhbmRQb3MgPSBDRnJhbWUubmV3KC01MjUwLCA4LCA4NTAwKQogICAgfSwKCiAgICAtLSBGSVNITUFOIElTTEFORAogICAgewogICAgICAgIE1pbiA9IDM3NSwgTWF4ID0gMzk5LAogICAgICAgIFF1ZXN0TmFtZSA9ICJGaXNobWFuUXVlc3QiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAxLAogICAgICAgIE1vYk5hbWUgPSAiRmlzaG1hbiBXYXJyaW9yIiwKICAgICAgICBJc2xhbmRQb3MgPSBDRnJhbWUubmV3KDYxMDAwLCAxOCwgMTU2MCkKICAgIH0sCiAgICB7CiAgICAgICAgTWluID0gNDAwLCBNYXggPSA0NDksCiAgICAgICAgUXVlc3ROYW1lID0gIkZpc2htYW5RdWVzdCIsCiAgICAgICAgUXVlc3RMZXZlbCA9IDIsCiAgICAgICAgTW9iTmFtZSA9ICJGaXNobWFuIENvbW1hbmRvIiwKICAgICAgICBJc2xhbmRQb3MgPSBDRnJhbWUubmV3KDYxMDAwLCAxOCwgMTU2MCkKICAgIH0sCgogICAgLS0gU0tZUElFQQogICAgewogICAgICAgIE1pbiA9IDQ1MCwgTWF4ID0gNDc0LAogICAgICAgIFF1ZXN0TmFtZSA9ICJTa3lFeHAxUXVlc3QiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAxLAogICAgICAgIE1vYk5hbWUgPSAiR29kJ3MgR3VhcmQiLAogICAgICAgIElzbGFuZFBvcyA9IENGcmFtZS5uZXcoLTQ3MjAsIDg0NSwgLTE5NTApCiAgICB9LAogICAgewogICAgICAgIE1pbiA9IDQ3NSwgTWF4ID0gNTI0LAogICAgICAgIFF1ZXN0TmFtZSA9ICJTa3lFeHAxUXVlc3QiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAyLAogICAgICAgIE1vYk5hbWUgPSAiU2hhbmRhIiwKICAgICAgICBJc2xhbmRQb3MgPSBDRnJhbWUubmV3KC00NzIwLCA4NDUsIC0xOTUwKQogICAgfSwKCiAgICAtLSBGT1VOVEFJTiBDSVRZCiAgICB7CiAgICAgICAgTWluID0gNTI1LCBNYXggPSA3MDAsCiAgICAgICAgUXVlc3ROYW1lID0gIkZvdW50YWluUXVlc3QiLAogICAgICAgIFF1ZXN0TGV2ZWwgPSAxLAogICAgICAgIE1vYk5hbWUgPSAiR2FsbGV5IFBpcmF0ZSIsCiAgICAgICAgSXNsYW5kUG9zID0gQ0ZyYW1lLm5ldyg1MjUwLCAzOSwgNDA1MCkKICAgIH0KfQoKbG9jYWwgZnVuY3Rpb24gR2V0UXVlc3QobHYpCiAgICBmb3IgXyxxIGluIHBhaXJzKFF1ZXN0RGF0YSkgZG8KICAgICAgICBpZiBsdj49cS5NaW4gYW5kIGx2PD1xLk1heCB0aGVuCiAgICAgICAgICAgIHJldHVybiBxCiAgICAgICAgZW5kCiAgICBlbmQKZW5kCgotLT09PT09PT09PT09PT09PT09PT09PT0gRkFSTSBFRkZFQ1QgPT09PT09PT09PT09PT09PT09PT09PS0tCmxvY2FsIGZ1bmN0aW9uIEVuYWJsZUZhcm1FZmZlY3QoKQogICAgbG9jYWwgY2hhciA9IFBsYXllci5DaGFyYWN0ZXIKICAgIGlmIG5vdCBjaGFyIHRoZW4gcmV0dXJuIGVuZAogICAgaWYgY2hhcjpGaW5kRmlyc3RDaGlsZCgiQ2hlZW1IaWdobGlnaHQiKSB0aGVuIHJldHVybiBlbmQKCiAgICBsb2NhbCBobCA9IEluc3RhbmNlLm5ldygiSGlnaGxpZ2h0IikKICAgIGhsLk5hbWUgPSAiQ2hlZW1IaWdobGlnaHQiCiAgICBobC5QYXJlbnQgPSBjaGFyCiAgICBobC5BZG9ybmVlID0gY2hhcgoKICAgIGhsLkZpbGxDb2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjIxLCAwKSAgICAgIC0tIPCfn6EgdsOgbmcKICAgIGhsLk91dGxpbmVDb2xvciA9IENvbG9yMy5mcm9tUkdCKDI1NSwgMjU1LCAyNTUpCiAgICBobC5GaWxsVHJhbnNwYXJlbmN5ID0gMC42CiAgICBobC5PdXRsaW5lVHJhbnNwYXJlbmN5ID0gMAplbmQKCmxvY2FsIGZ1bmN0aW9uIERpc2FibGVGYXJtRWZmZWN0KCkKICAgIGxvY2FsIGNoYXIgPSBQbGF5ZXIuQ2hhcmFjdGVyCiAgICBpZiBub3QgY2hhciB0aGVuIHJldHVybiBlbmQKCiAgICBsb2NhbCBobCA9IGNoYXI6RmluZEZpcnN0Q2hpbGQoIkNoZWVtSGlnaGxpZ2h0IikKICAgIGlmIGhsIHRoZW4KICAgICAgICBobDpEZXN0cm95KCkKICAgIGVuZAplbmQKCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQotLSBDSEVFTSBDTEVBTiBVSSBMSUJSQVJZIChEQVJLIFRIRU1FKQotLSAxIEljb24g4oCTIDEgVUkgfCBTbGlkZSBUb2dnbGUgfCBUYWJzCi0tIE5PIE9SSU9OIHwgTk8gU0VSVklDRSB8IE5PIExPR0lDCi0tPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKbG9jYWwgVHdlZW5TZXJ2aWNlID0gZ2FtZTpHZXRTZXJ2aWNlKCJUd2VlblNlcnZpY2UiKQpsb2NhbCBVSVMgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQpsb2NhbCBDb3JlR3VpID0gZ2FtZTpHZXRTZXJ2aWNlKCJDb3JlR3VpIikKCmxvY2FsIFVJID0ge30KVUkuX19pbmRleCA9IFVJCgotLT09PT09PT09PT09PT09PT0gSUNPTiBUT0dHTEUgPT09PT09PT09PT09PT09PT0tLQpsb2NhbCBVSVZpc2libGUgPSB0cnVlCgpsb2NhbCBJY29uR3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiLCBDb3JlR3VpKQpJY29uR3VpLk5hbWUgPSAiQ2hlZW1fSWNvbiIKSWNvbkd1aS5SZXNldE9uU3Bhd24gPSBmYWxzZQoKbG9jYWwgSWNvbiA9IEluc3RhbmNlLm5ldygiSW1hZ2VCdXR0b24iLCBJY29uR3VpKQpJY29uLlNpemUgPSBVRGltMi5mcm9tT2Zmc2V0KDUwLDUwKQpJY29uLlBvc2l0aW9uID0gVURpbTIubmV3KDAsMTUsMC40NSwwKQpJY29uLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCkljb24uSW1hZ2UgPSAicmJ4YXNzZXRpZDovLzkxMzExNzE3NjI1NDg3IgpJY29uLkltYWdlQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMjU1LDIyMSwwKQoKLS0gZHJhZyBpY29uCmxvY2FsIGRyYWcsIGRTdGFydCwgZFBvcwpJY29uLklucHV0QmVnYW46Q29ubmVjdChmdW5jdGlvbihpKQoJaWYgaS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbgoJCWRyYWcgPSB0cnVlCgkJZFN0YXJ0ID0gaS5Qb3NpdGlvbgoJCWRQb3MgPSBJY29uLlBvc2l0aW9uCgllbmQKZW5kKQpJY29uLklucHV0RW5kZWQ6Q29ubmVjdChmdW5jdGlvbihpKQoJaWYgaS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbiBkcmFnID0gZmFsc2UgZW5kCmVuZCkKVUlTLklucHV0Q2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCglpZiBkcmFnIGFuZCBpLlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlTW92ZW1lbnQgdGhlbgoJCWxvY2FsIGQgPSBpLlBvc2l0aW9uIC0gZFN0YXJ0CgkJSWNvbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldyhkUG9zLlguU2NhbGUsZFBvcy5YLk9mZnNldCtkLlgsZFBvcy5ZLlNjYWxlLGRQb3MuWS5PZmZzZXQrZC5ZKQoJZW5kCmVuZCkKCi0tPT09PT09PT09PT09PT09PSBNQUlOIFVJID09PT09PT09PT09PT09PT09LS0KZnVuY3Rpb24gVUk6Q3JlYXRlV2luZG93KHRpdGxlKQoJbG9jYWwgR3VpID0gSW5zdGFuY2UubmV3KCJTY3JlZW5HdWkiLCBDb3JlR3VpKQoJR3VpLk5hbWUgPSAiQ2hlZW1fVUkiCglHdWkuUmVzZXRPblNwYXduID0gZmFsc2UKCglJY29uLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQoJCVVJVmlzaWJsZSA9IG5vdCBVSVZpc2libGUKCQlHdWkuRW5hYmxlZCA9IFVJVmlzaWJsZQoJZW5kKQoKCWxvY2FsIE1haW4gPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgR3VpKQoJTWFpbi5TaXplID0gVURpbTIuZnJvbU9mZnNldCg1NjAsMzQwKQoJTWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLjUsLTI4MCwwLjUsLTE3MCkKCU1haW4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIwLDIwLDIwKQoJTWFpbi5Cb3JkZXJTaXplUGl4ZWwgPSAwCglJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgTWFpbikuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCwxMikKCgktLSBkcmFnIHdpbmRvdwoJbG9jYWwgd0RyYWcsIHdTdGFydCwgd1BvcwoJTWFpbi5JbnB1dEJlZ2FuOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQlpZiBpLlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlQnV0dG9uMSB0aGVuCgkJCXdEcmFnID0gdHJ1ZQoJCQl3U3RhcnQgPSBpLlBvc2l0aW9uCgkJCXdQb3MgPSBNYWluLlBvc2l0aW9uCgkJZW5kCgllbmQpCglVSVMuSW5wdXRDaGFuZ2VkOkNvbm5lY3QoZnVuY3Rpb24oaSkKCQlpZiB3RHJhZyBhbmQgaS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZU1vdmVtZW50IHRoZW4KCQkJbG9jYWwgZCA9IGkuUG9zaXRpb24gLSB3U3RhcnQKCQkJTWFpbi5Qb3NpdGlvbiA9IFVEaW0yLm5ldyh3UG9zLlguU2NhbGUsd1Bvcy5YLk9mZnNldCtkLlgsd1Bvcy5ZLlNjYWxlLHdQb3MuWS5PZmZzZXQrZC5ZKQoJCWVuZAoJZW5kKQoJVUlTLklucHV0RW5kZWQ6Q29ubmVjdChmdW5jdGlvbihpKQoJCWlmIGkuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VCdXR0b24xIHRoZW4gd0RyYWcgPSBmYWxzZSBlbmQKCWVuZCkKCgktLSB0aXRsZQoJbG9jYWwgVGl0bGUgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIE1haW4pCglUaXRsZS5TaXplID0gVURpbTIubmV3KDEsMCwwLDQwKQoJVGl0bGUuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCVRpdGxlLlRleHQgPSB0aXRsZSBvciAiQ2hlZW0gSHViIFtQcmVtaXVtXSBieSBPbGlvcyIKCVRpdGxlLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtQm9sZAoJVGl0bGUuVGV4dFNpemUgPSAxOAoJVGl0bGUuVGV4dENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDI1NSwyMjEsMCkKCgktLSB0YWJzCglsb2NhbCBUYWJzID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIE1haW4pCglUYWJzLlNpemUgPSBVRGltMi5uZXcoMCwxNDAsMSwtNDApCglUYWJzLlBvc2l0aW9uID0gVURpbTIubmV3KDAsMCwwLDQwKQoJVGFicy5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMTUsMTUsMTUpCgoJbG9jYWwgUGFnZXMgPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgTWFpbikKCVBhZ2VzLlNpemUgPSBVRGltMi5uZXcoMSwtMTQwLDEsLTQwKQoJUGFnZXMuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwxNDAsMCw0MCkKCVBhZ2VzLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgoJbG9jYWwgV2luZG93ID0ge1RhYnM9e30sIFBhZ2VzPXt9LCBDdXJyZW50PW5pbH0KCgktLT09PT09PT09PT09PT09PT0gVEFCID09PT09PT09PT09PT09PT09LS0KCWZ1bmN0aW9uIFdpbmRvdzpDcmVhdGVUYWIobmFtZSkKCQlsb2NhbCBCdG4gPSBJbnN0YW5jZS5uZXcoIlRleHRCdXR0b24iLCBUYWJzKQoJCUJ0bi5TaXplID0gVURpbTIubmV3KDEsMCwwLDQwKQoJCUJ0bi5UZXh0ID0gbmFtZQoJCUJ0bi5Gb250ID0gRW51bS5Gb250LkdvdGhhbQoJCUJ0bi5UZXh0U2l6ZSA9IDE0CgkJQnRuLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsMSwxKQoJCUJ0bi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzAsMzAsMzApCgkJQnRuLkF1dG9CdXR0b25Db2xvciA9IGZhbHNlCgoJCWxvY2FsIFBhZ2UgPSBJbnN0YW5jZS5uZXcoIlNjcm9sbGluZ0ZyYW1lIiwgUGFnZXMpCgkJUGFnZS5TaXplID0gVURpbTIubmV3KDEsMCwxLDApCgkJUGFnZS5TY3JvbGxCYXJJbWFnZVRyYW5zcGFyZW5jeSA9IDEKCQlQYWdlLlZpc2libGUgPSBmYWxzZQoJCVBhZ2UuQXV0b21hdGljQ2FudmFzU2l6ZSA9IEVudW0uQXV0b21hdGljU2l6ZS5ZCgkJUGFnZS5DYW52YXNTaXplID0gVURpbTIubmV3KCkKCgkJbG9jYWwgbGlzdCA9IEluc3RhbmNlLm5ldygiVUlMaXN0TGF5b3V0IiwgUGFnZSkKCQlsaXN0LlBhZGRpbmcgPSBVRGltLm5ldygwLDEwKQoKCQlCdG4uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCgkJCWZvciBfLHAgaW4gcGFpcnMoV2luZG93LlBhZ2VzKSBkbyBwLlZpc2libGU9ZmFsc2UgZW5kCgkJCWZvciBfLHQgaW4gcGFpcnMoV2luZG93LlRhYnMpIGRvIHQuQmFja2dyb3VuZENvbG9yMz1Db2xvcjMuZnJvbVJHQigzMCwzMCwzMCkgZW5kCgkJCUJ0bi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNDUsNDUsNDUpCgkJCVBhZ2UuVmlzaWJsZSA9IHRydWUKCQkJV2luZG93LkN1cnJlbnQgPSBQYWdlCgkJZW5kKQoKCQl0YWJsZS5pbnNlcnQoV2luZG93LlRhYnMsIEJ0bikKCQl0YWJsZS5pbnNlcnQoV2luZG93LlBhZ2VzLCBQYWdlKQoKCQlpZiBub3QgV2luZG93LkN1cnJlbnQgdGhlbgoJCQlCdG4uQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDQ1LDQ1LDQ1KQoJCQlQYWdlLlZpc2libGUgPSB0cnVlCgkJCVdpbmRvdy5DdXJyZW50ID0gUGFnZQoJCWVuZAoKCQlsb2NhbCBUYWIgPSB7fQoKCQktLT09PT09PT09PT09IFNMSURFIFRPR0dMRSA9PT09PT09PT09PQoJCWZ1bmN0aW9uIFRhYjpBZGRUb2dnbGUob3B0KQoJCQlsb2NhbCBIID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIFBhZ2UpCgkJCUguU2l6ZSA9IFVEaW0yLm5ldygxLC0xMCwwLDQwKQoJCQlILkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwzNSwzNSkKCQkJSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIEgpLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsOCkKCgkJCWxvY2FsIEwgPSBJbnN0YW5jZS5uZXcoIlRleHRMYWJlbCIsIEgpCgkJCUwuU2l6ZSA9IFVEaW0yLm5ldygxLC03MCwxLDApCgkJCUwuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwxMCwwLDApCgkJCUwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKCQkJTC5UZXh0ID0gb3B0Lk5hbWUKCQkJTC5Gb250ID0gRW51bS5Gb250LkdvdGhhbQoJCQlMLlRleHRTaXplID0gMTQKCQkJTC5UZXh0Q29sb3IzID0gQ29sb3IzLm5ldygxLDEsMSkKCQkJTC5UZXh0WEFsaWdubWVudCA9IEVudW0uVGV4dFhBbGlnbm1lbnQuTGVmdAoKCQkJbG9jYWwgUyA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBIKQoJCQlTLlNpemUgPSBVRGltMi5mcm9tT2Zmc2V0KDQ2LDIyKQoJCQlTLlBvc2l0aW9uID0gVURpbTIubmV3KDEsLTU2LDAuNSwtMTEpCgkJCVMuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDcwLDcwLDcwKQoJCQlJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgUykuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMSwwKQoKCQkJbG9jYWwgSyA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBTKQoJCQlLLlNpemUgPSBVRGltMi5mcm9tT2Zmc2V0KDE4LDE4KQoJCQlLLlBvc2l0aW9uID0gVURpbTIubmV3KDAsMiwwLjUsLTkpCgkJCUsuQmFja2dyb3VuZENvbG9yMyA9IENvbG9yMy5mcm9tUkdCKDIzMCwyMzAsMjMwKQoJCQlJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgSykuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMSwwKQoKCQkJbG9jYWwgc3RhdGUgPSBvcHQuRGVmYXVsdCBvciBmYWxzZQoJCQlsb2NhbCBmdW5jdGlvbiByZWYoKQoJCQkJVHdlZW5TZXJ2aWNlOkNyZWF0ZShLLFR3ZWVuSW5mby5uZXcoMC4yKSx7CgkJCQkJUG9zaXRpb24gPSBzdGF0ZSBhbmQgVURpbTIubmV3KDEsLTIwLDAuNSwtOSkgb3IgVURpbTIubmV3KDAsMiwwLjUsLTkpCgkJCQl9KTpQbGF5KCkKCQkJCVR3ZWVuU2VydmljZTpDcmVhdGUoUyxUd2VlbkluZm8ubmV3KDAuMiksewoJCQkJCUJhY2tncm91bmRDb2xvcjMgPSBzdGF0ZSBhbmQgQ29sb3IzLmZyb21SR0IoMjU1LDIyMSwwKSBvciBDb2xvcjMuZnJvbVJHQig3MCw3MCw3MCkKCQkJCX0pOlBsYXkoKQoJCQllbmQKCQkJcmVmKCkKCgkJCUguSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGkpCgkJCQlpZiBpLlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlQnV0dG9uMSB0aGVuCgkJCQkJc3RhdGUgPSBub3Qgc3RhdGUKCQkJCQlyZWYoKQoJCQkJCWlmIG9wdC5DYWxsYmFjayB0aGVuIG9wdC5DYWxsYmFjayhzdGF0ZSkgZW5kCgkJCQllbmQKCQkJZW5kKQoJCWVuZAoKCQktLT09PT09PT09PT09IEJVVFRPTiA9PT09PT09PT09PQoJCWZ1bmN0aW9uIFRhYjpBZGRCdXR0b24ob3B0KQoJCQlsb2NhbCBCID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiwgUGFnZSkKCQkJQi5TaXplID0gVURpbTIubmV3KDEsLTEwLDAsNDApCgkJCUIuVGV4dCA9IG9wdC5OYW1lCgkJCUIuRm9udCA9IEVudW0uRm9udC5Hb3RoYW1Cb2xkCgkJCUIuVGV4dFNpemUgPSAxNAoJCQlCLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsMSwxKQoJCQlCLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsMjIxLDApCgkJCUIuQXV0b0J1dHRvbkNvbG9yID0gZmFsc2UKCQkJSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIEIpLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsOCkKCQkJQi5Nb3VzZUJ1dHRvbjFDbGljazpDb25uZWN0KG9wdC5DYWxsYmFjaykKCQllbmQKCiAgICAgICAgIGZ1bmN0aW9uIFRhYjpBZGRTbGlkZXIob3B0KQogICAgbG9jYWwgSCA9IEluc3RhbmNlLm5ldygiRnJhbWUiLCBQYWdlKQogICAgSC5TaXplID0gVURpbTIubmV3KDEsLTEwLDAsNTApCiAgICBILkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigzNSwzNSwzNSkKICAgIEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBIKS5Db3JuZXJSYWRpdXMgPSBVRGltLm5ldygwLDgpCgogICAgbG9jYWwgTCA9IEluc3RhbmNlLm5ldygiVGV4dExhYmVsIiwgSCkKICAgIEwuU2l6ZSA9IFVEaW0yLm5ldygxLC0yMCwwLDIwKQogICAgTC5Qb3NpdGlvbiA9IFVEaW0yLm5ldygwLDEwLDAsMCkKICAgIEwuQmFja2dyb3VuZFRyYW5zcGFyZW5jeSA9IDEKICAgIEwuVGV4dCA9IG9wdC5OYW1lLi4iIDogIi4udG9zdHJpbmcob3B0LkRlZmF1bHQpCiAgICBMLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsMSwxKQogICAgTC5Gb250ID0gRW51bS5Gb250LkdvdGhhbQogICAgTC5UZXh0U2l6ZSA9IDE0CiAgICBMLlRleHRYQWxpZ25tZW50ID0gRW51bS5UZXh0WEFsaWdubWVudC5MZWZ0CgogICAgbG9jYWwgQmFyID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIEgpCiAgICBCYXIuU2l6ZSA9IFVEaW0yLm5ldygxLC0yMCwwLDgpCiAgICBCYXIuUG9zaXRpb24gPSBVRGltMi5uZXcoMCwxMCwwLDMwKQogICAgQmFyLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQig2MCw2MCw2MCkKICAgIEluc3RhbmNlLm5ldygiVUlDb3JuZXIiLCBCYXIpLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDEsMCkKCiAgICBsb2NhbCBGaWxsID0gSW5zdGFuY2UubmV3KCJGcmFtZSIsIEJhcikKICAgIEZpbGwuU2l6ZSA9IFVEaW0yLm5ldygob3B0LkRlZmF1bHQtb3B0Lk1pbikvKG9wdC5NYXgtb3B0Lk1pbiksMCwxLDApCiAgICBGaWxsLkJhY2tncm91bmRDb2xvcjMgPSBDb2xvcjMuZnJvbVJHQigyNTUsMjIxLDApCiAgICBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgRmlsbCkuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMSwwKQoKICAgIGxvY2FsIGRyYWdnaW5nID0gZmFsc2UKCiAgICBCYXIuSW5wdXRCZWdhbjpDb25uZWN0KGZ1bmN0aW9uKGkpCiAgICAgICAgaWYgaS5Vc2VySW5wdXRUeXBlID09IEVudW0uVXNlcklucHV0VHlwZS5Nb3VzZUJ1dHRvbjEgdGhlbgogICAgICAgICAgICBkcmFnZ2luZyA9IHRydWUKICAgICAgICBlbmQKICAgIGVuZCkKICAgIEJhci5JbnB1dEVuZGVkOkNvbm5lY3QoZnVuY3Rpb24oaSkKICAgICAgICBpZiBpLlVzZXJJbnB1dFR5cGUgPT0gRW51bS5Vc2VySW5wdXRUeXBlLk1vdXNlQnV0dG9uMSB0aGVuCiAgICAgICAgICAgIGRyYWdnaW5nID0gZmFsc2UKICAgICAgICBlbmQKICAgIGVuZCkKCiAgICBsb2NhbCBVSVMgPSBnYW1lOkdldFNlcnZpY2UoIlVzZXJJbnB1dFNlcnZpY2UiKQoKVUlTLklucHV0Q2hhbmdlZDpDb25uZWN0KGZ1bmN0aW9uKGkpCiAgICAgICAgaWYgZHJhZ2dpbmcgYW5kIGkuVXNlcklucHV0VHlwZSA9PSBFbnVtLlVzZXJJbnB1dFR5cGUuTW91c2VNb3ZlbWVudCB0aGVuCiAgICAgICAgICAgIGxvY2FsIHBvcyA9IG1hdGguY2xhbXAoKGkuUG9zaXRpb24uWC1CYXIuQWJzb2x1dGVQb3NpdGlvbi5YKS9CYXIuQWJzb2x1dGVTaXplLlgsMCwxKQogICAgICAgICAgICBGaWxsLlNpemUgPSBVRGltMi5uZXcocG9zLDAsMSwwKQogICAgICAgICAgICBsb2NhbCB2YWwgPSBtYXRoLmZsb29yKG9wdC5NaW4gKyAob3B0Lk1heC1vcHQuTWluKSpwb3MpCiAgICAgICAgICAgIEwuVGV4dCA9IG9wdC5OYW1lLi4iIDogIi4udmFsCiAgICAgICAgICAgIGlmIG9wdC5DYWxsYmFjayB0aGVuIG9wdC5DYWxsYmFjayh2YWwpIGVuZAogICAgICAgIGVuZAogICAgZW5kKQplbmQKCiAgICAgZnVuY3Rpb24gVGFiOkFkZERyb3Bkb3duKG9wdCkKICAgIGxvY2FsIEggPSBJbnN0YW5jZS5uZXcoIkZyYW1lIiwgUGFnZSkKICAgIEguU2l6ZSA9IFVEaW0yLm5ldygxLC0xMCwwLDQwKQogICAgSC5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoMzUsMzUsMzUpCiAgICBJbnN0YW5jZS5uZXcoIlVJQ29ybmVyIiwgSCkuQ29ybmVyUmFkaXVzID0gVURpbS5uZXcoMCw4KQoKICAgIGxvY2FsIEJ0biA9IEluc3RhbmNlLm5ldygiVGV4dEJ1dHRvbiIsIEgpCiAgICBCdG4uU2l6ZSA9IFVEaW0yLm5ldygxLC0yMCwxLDApCiAgICBCdG4uUG9zaXRpb24gPSBVRGltMi5uZXcoMCwxMCwwLDApCiAgICBCdG4uVGV4dCA9IG9wdC5OYW1lLi4iOiAiLi5vcHQuRGVmYXVsdAogICAgQnRuLkZvbnQgPSBFbnVtLkZvbnQuR290aGFtCiAgICBCdG4uVGV4dFNpemUgPSAxNAogICAgQnRuLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsMSwxKQogICAgQnRuLkJhY2tncm91bmRUcmFuc3BhcmVuY3kgPSAxCgogICAgbG9jYWwgb3BlbiA9IGZhbHNlCiAgICBsb2NhbCBjdXJyZW50ID0gb3B0LkRlZmF1bHQKCiAgICBCdG4uTW91c2VCdXR0b24xQ2xpY2s6Q29ubmVjdChmdW5jdGlvbigpCiAgICAgICAgb3BlbiA9IG5vdCBvcGVuCiAgICAgICAgaWYgb3BlbiB0aGVuCiAgICAgICAgICAgIGZvciBfLHYgaW4gcGFpcnMob3B0Lk9wdGlvbnMpIGRvCiAgICAgICAgICAgICAgICBsb2NhbCBiID0gSW5zdGFuY2UubmV3KCJUZXh0QnV0dG9uIiwgUGFnZSkKICAgICAgICAgICAgICAgIGIuU2l6ZSA9IFVEaW0yLm5ldygxLC0xMCwwLDM1KQogICAgICAgICAgICAgICAgYi5UZXh0ID0gdgogICAgICAgICAgICAgICAgYi5CYWNrZ3JvdW5kQ29sb3IzID0gQ29sb3IzLmZyb21SR0IoNDUsNDUsNDUpCiAgICAgICAgICAgICAgICBiLlRleHRDb2xvcjMgPSBDb2xvcjMubmV3KDEsMSwxKQogICAgICAgICAgICAgICAgSW5zdGFuY2UubmV3KCJVSUNvcm5lciIsIGIpLkNvcm5lclJhZGl1cyA9IFVEaW0ubmV3KDAsNikKCiAgICAgICAgICAgICAgICBiLk1vdXNlQnV0dG9uMUNsaWNrOkNvbm5lY3QoZnVuY3Rpb24oKQogICAgICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB2CiAgICAgICAgICAgICAgICAgICAgQnRuLlRleHQgPSBvcHQuTmFtZS4uIjogIi4udgogICAgICAgICAgICAgICAgICAgIGlmIG9wdC5DYWxsYmFjayB0aGVuIG9wdC5DYWxsYmFjayh2KSBlbmQKICAgICAgICAgICAgICAgICAgICBmb3IgXyx4IGluIHBhaXJzKFBhZ2U6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgICAgICAgICAgaWYgeDpJc0EoIlRleHRCdXR0b24iKSBhbmQgeCB+PSBCdG4gdGhlbiB4OkRlc3Ryb3koKSBlbmQKICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBvcGVuID0gZmFsc2UKICAgICAgICAgICAgICAgIGVuZCkKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQpCmVuZAoKCQlyZXR1cm4gVGFiCgllbmQKCglyZXR1cm4gV2luZG93CmVuZAoKbG9jYWwgV2luZG93ID0gVUk6Q3JlYXRlV2luZG93KCJDaGVlbSBIdWIiKQpsb2NhbCBTaG9wVGFiID0gV2luZG93OkNyZWF0ZVRhYigiVGFiIFNob3AiKQpsb2NhbCBQbGF5ZXJUYWIgPSBXaW5kb3c6Q3JlYXRlVGFiKCJUYWIgUGxheWVyIikKbG9jYWwgU2V0dGluZ1RhYiA9IFdpbmRvdzpDcmVhdGVUYWIoIlNldHRpbmcgRmFybSIpCmxvY2FsIEZhcm1UYWIgPSBXaW5kb3c6Q3JlYXRlVGFiKCJGYXJtZXIiKQpsb2NhbCBBd2FrZW5UYWIgPSBXaW5kb3c6Q3JlYXRlVGFiKCJBd2FrZW4gRnJ1aXQiKQpsb2NhbCBWNFRhYiAgPSBXaW5kb3c6Q3JlYXRlVGFiKCJ1cGdyYWRlIFY0IikKClNldHRpbmdUYWI6QWRkQnV0dG9uKHsKICAgIE5hbWUgPSAiUmVzZXQgU2F2ZWQgS2V5IiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24oKQogICAgICAgIFJlc2V0S2V5KCkKICAgICAgICBnYW1lLlBsYXllcnMuTG9jYWxQbGF5ZXI6S2ljaygiS2V5IHJlc2V0ISBSZWpvaW4gZ2FtZS4iKQogICAgZW5kCn0pCgpTZXR0aW5nVGFiOkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gQ2xpY2siLAogICAgRGVmYXVsdCA9IENoZWVtLkF1dG9DbGljaywKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBDaGVlbS5BdXRvQ2xpY2sgPSB2CiAgICBlbmQKfSkKClNldHRpbmdUYWI6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiRmFzdCBBdHRhY2siLAogICAgRGVmYXVsdCA9IENoZWVtLkZhc3RBdHRhY2ssCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgQ2hlZW0uRmFzdEF0dGFjayA9IHYKICAgIGVuZAp9KQoKUGxheWVyVGFiOkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkZseSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgQ2hlZW0uRmx5ID0gdgogICAgZW5kCn0pCgpQbGF5ZXJUYWI6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiTm9jbGlwIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBDaGVlbS5Ob2NsaXAgPSB2CiAgICBlbmQKfSkKClBsYXllclRhYjpBZGRTbGlkZXIoewogICAgTmFtZSA9ICJXYWxrIFNwZWVkIiwKICAgIE1pbiA9IDE2LAogICAgTWF4ID0gMjAwLAogICAgRGVmYXVsdCA9IDE2LAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgIENoZWVtLldhbGtTcGVlZCA9IHYKICAgICAgICBsb2NhbCBodW0gPSBQbGF5ZXIuQ2hhcmFjdGVyIGFuZCBQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIGh1bSB0aGVuCiAgICAgICAgICAgIGh1bS5XYWxrU3BlZWQgPSB2CiAgICAgICAgZW5kCiAgICBlbmQKfSkKClBsYXllclRhYjpBZGRTbGlkZXIoewogICAgTmFtZSA9ICJKdW1wIFBvd2VyIiwKICAgIE1pbiA9IDUwLAogICAgTWF4ID0gMzAwLAogICAgRGVmYXVsdCA9IDUwLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgIENoZWVtLkp1bXBQb3dlciA9IHYKICAgICAgICBsb2NhbCBodW0gPSBQbGF5ZXIuQ2hhcmFjdGVyIGFuZCBQbGF5ZXIuQ2hhcmFjdGVyOkZpbmRGaXJzdENoaWxkT2ZDbGFzcygiSHVtYW5vaWQiKQogICAgICAgIGlmIGh1bSB0aGVuCiAgICAgICAgICAgIGh1bS5KdW1wUG93ZXIgPSB2CiAgICAgICAgZW5kCiAgICBlbmQKfSkKClBsYXllclRhYjpBZGRUb2dnbGUoewogICAgTmFtZSA9ICJJbmZpbml0ZSBKdW1wIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBDaGVlbS5JbmZKdW1wID0gdgogICAgZW5kCn0pCgpBd2FrZW5UYWI6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiQXV0byBCdXkgUmFpZCBDaGlwIiwKICAgIERlZmF1bHQgPSBmYWxzZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBDaGVlbS5CdXlDaGlwID0gdgogICAgZW5kCn0pCgpBd2FrZW5UYWI6QWRkRHJvcGRvd24oewogICAgTmFtZSA9ICJTZWxlY3QgQ2hpcCIsCiAgICBPcHRpb25zID0geyJGbGFtZSIsIkljZSIsIkxpZ2h0IiwiTWFnbWEiLCJEYXJrIiwiUnVtYmxlIiwiQnVkZGhhIiwiRG91Z2gifSwKICAgIERlZmF1bHQgPSAiRmxhbWUiLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgIENoZWVtLkNoaXBGcnVpdCA9IHYKICAgIGVuZAp9KQoKQXdha2VuVGFiOkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gQXdha2VuIChSYWlkKSIsCiAgICBEZWZhdWx0ID0gZmFsc2UsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgQ2hlZW0uQXV0b0F3YWtlbiA9IHYKICAgICAgICBDaGVlbS5BdXRvUmFpZCA9IHYKICAgIGVuZAp9KQoKQXdha2VuVGFiOkFkZERyb3Bkb3duKHsKICAgIE5hbWUgPSAiU2VsZWN0IEF3YWtlbiBTa2lsbCIsCiAgICBPcHRpb25zID0geyJaIiwiWCIsIkMiLCJWIiwiRiJ9LAogICAgRGVmYXVsdCA9ICJaIiwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBDaGVlbS5Bd2FrZW5Ta2lsbCA9IHYKICAgIGVuZAp9KQoKQXdha2VuVGFiOkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gVGVsZXBvcnQgUmFpZCIsCiAgICBEZWZhdWx0ID0gdHJ1ZSwKICAgIENhbGxiYWNrID0gZnVuY3Rpb24odikKICAgICAgICBDaGVlbS5SYWlkVGVsZXBvcnQgPSB2CiAgICBlbmQKfSkKCkZhcm1UYWI6QWRkVG9nZ2xlKHsKCU5hbWUgPSAiQXV0byBGYXJtIiwKCURlZmF1bHQgPSBDaGVlbS5BdXRvRmFybSwKCUNhbGxiYWNrID0gZnVuY3Rpb24odikKCQlDaGVlbS5BdXRvRmFybSA9IHYKCWVuZAp9KQoKU2V0dGluZ1RhYjpBZGREcm9wZG93bih7CglOYW1lID0gIkZhcm0gV2VhcG9uIiwKCU9wdGlvbnMgPSB7Ik1lbGVlIiwgIlN3b3JkIiwgIkd1biJ9LAoJRGVmYXVsdCA9IENoZWVtLldlYXBvbiBvciAiTWVsZWUiLAoJQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQoJCUNoZWVtLldlYXBvbiA9IHYKCWVuZAp9KQoKQ2hlZW0uTW9iTWFnbmV0ID0gZmFsc2UKClNldHRpbmdUYWI6QWRkVG9nZ2xlKHsKICAgIE5hbWUgPSAiY29sbGVjdCBtb25zdGVycyIsCiAgICBEZWZhdWx0ID0gQ2hlZW0uTW9iTWFnbmV0LAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgIENoZWVtLk1vYk1hZ25ldCA9IHYKICAgIGVuZAp9KQoKVjRUYWI6QWRkRHJvcGRvd24oewogICAgTmFtZSA9ICJUcmlhbCBXZWFwb24iLAogICAgT3B0aW9ucyA9IHsiTWVsZWUiLCJTd29yZCIsIkd1biJ9LAogICAgRGVmYXVsdCA9ICJNZWxlZSIsCiAgICBDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCiAgICAgICAgQ2hlZW0uVHJpYWxXZWFwb24gPSB2CiAgICBlbmQKfSkKClY0VGFiOkFkZFRvZ2dsZSh7CiAgICBOYW1lID0gIkF1dG8gRmlnaHQgVHJpYWwiLAogICAgRGVmYXVsdCA9IGZhbHNlLAogICAgQ2FsbGJhY2sgPSBmdW5jdGlvbih2KQogICAgICAgIENoZWVtLkF1dG9UcmlhbCA9IHYKICAgIGVuZAp9KQoKVjRUYWI6QWRkVG9nZ2xlKHsKCU5hbWUgPSAiSG9wIE1pcmFnZSBJc2xhbmQiLAoJRGVmYXVsdCA9IENoZWVtLkF1dG9Ib3AsCglDYWxsYmFjayA9IGZ1bmN0aW9uKHYpCgkJQ2hlZW0uQXV0b0hvcCA9IHYKCWVuZAp9KQoKVjRUYWI6QWRkVG9nZ2xlKHsKCU5hbWUgPSAiRmluZCBCbHVlIEdlYXIiLAoJRGVmYXVsdCA9IENoZWVtLkF1dG9CbHVlR2VhciwKCUNhbGxiYWNrID0gZnVuY3Rpb24odikKCQlDaGVlbS5BdXRvQmx1ZUdlYXIgPSB2CgllbmQKfSkKClNob3BUYWI6QWRkQnV0dG9uKHsKCU5hbWUgPSAiQnV5IEJsYWNrIExlZyIsCglDYWxsYmFjayA9IGZ1bmN0aW9uKCkKCQlCdXlTdHlsZSgiQmxhY2tMZWciKQoJZW5kCn0pCgpTaG9wVGFiOkFkZEJ1dHRvbih7CglOYW1lID0gIkJ1eSBFbGVjdHJvIiwKCUNhbGxiYWNrID0gZnVuY3Rpb24oKQoJCUJ1eVN0eWxlKCJFbGVjdHJvIikKCWVuZAp9KQoKU2hvcFRhYjpBZGRCdXR0b24oewoJTmFtZSA9ICJCdXkgRmlzaG1hbiBLYXJhdGUiLAoJQ2FsbGJhY2sgPSBmdW5jdGlvbigpCgkJQnV5U3R5bGUoIkZpc2htYW5LYXJhdGUiKQoJZW5kCn0pCgpTaG9wVGFiOkFkZEJ1dHRvbih7CglOYW1lID0gIkJ1eSBEcmFnb24gQ2xhdyIsCglDYWxsYmFjayA9IGZ1bmN0aW9uKCkKCQlCdXlTdHlsZSgiRHJhZ29uQ2xhdyIpCgllbmQKfSkKClNob3BUYWI6QWRkQnV0dG9uKHsKCU5hbWUgPSAiUmVkZWVtIEFMTCBDb2RlcyIsCglDYWxsYmFjayA9IGZ1bmN0aW9uKCkKCQlmb3IgXyxjb2RlIGluIGlwYWlycyhHYW1lQ29kZXMpIGRvCgkJCVJlZGVlbUNvZGUoY29kZSkKCQkJdGFzay53YWl0KDAuMykKCQllbmQKCWVuZAp9KQoKLS09PT09PT09PT09PT09PT09IE1JUkFHRSBDSEVDSyAoUkVBTCkgPT09PT09PT09PT09PT09PT0tLQpsb2NhbCBMaWdodGluZyA9IGdhbWU6R2V0U2VydmljZSgiTGlnaHRpbmciKQpsb2NhbCBXb3Jrc3BhY2UgPSBnYW1lOkdldFNlcnZpY2UoIldvcmtzcGFjZSIpCgpsb2NhbCBmdW5jdGlvbiBJc01pcmFnZUlzbGFuZFByZXNlbnQoKQogICAgLS0gMe+4j+KDoyBDaGVjayDDoW5oIHPDoW5nIMSR4bq3YyB0csawbmcKICAgIGlmIExpZ2h0aW5nOkZpbmRGaXJzdENoaWxkKCJBdG1vc3BoZXJlIikgdGhlbgogICAgICAgIGxvY2FsIGF0bSA9IExpZ2h0aW5nLkF0bW9zcGhlcmUKICAgICAgICBpZiBhdG0uRGVuc2l0eSA+IDAuMzUgYW5kIGF0bS5IYXplID4gMSB0aGVuCiAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICAtLSAy77iP4oOjIENoZWNrIMSR4bqjbyBs4bubbiBnaeG7r2EgYmnhu4NuCiAgICBmb3IgXyx2IGluIHBhaXJzKFdvcmtzcGFjZTpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgIGlmIHY6SXNBKCJNb2RlbCIpIGFuZCB2OkZpbmRGaXJzdENoaWxkV2hpY2hJc0EoIkJhc2VQYXJ0IikgdGhlbgogICAgICAgICAgICBsb2NhbCBzaXplID0gdjpHZXRFeHRlbnRzU2l6ZSgpCiAgICAgICAgICAgIGlmIHNpemUuWCA+IDgwMCBhbmQgc2l6ZS5aID4gODAwIHRoZW4KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZAogICAgZW5kCgogICAgLS0gM++4j+KDoyBDaGVjayBOUEMgxJHhurdjIHRyxrBuZwogICAgbG9jYWwgTlBDcyA9IFdvcmtzcGFjZTpGaW5kRmlyc3RDaGlsZCgiTlBDcyIpCiAgICBpZiBOUENzIHRoZW4KICAgICAgICBmb3IgXyxucGMgaW4gcGFpcnMoTlBDczpHZXRDaGlsZHJlbigpKSBkbwogICAgICAgICAgICBpZiBucGMuTmFtZTpsb3dlcigpOmZpbmQoImFkdmFuY2VkIikgdGhlbgogICAgICAgICAgICAgICAgcmV0dXJuIHRydWUKICAgICAgICAgICAgZW5kCiAgICAgICAgZW5kCiAgICBlbmQKCiAgICByZXR1cm4gZmFsc2UKZW5kCgotLT09PT09PT09PT09PT09PT0gRklORCBCTFVFIEdFQVIgPT09PT09PT09PT09PT09PT0tLQpsb2NhbCBmdW5jdGlvbiBGaW5kQmx1ZUdlYXIoKQogICAgZm9yIF8sdiBpbiBwYWlycyh3b3Jrc3BhY2U6R2V0RGVzY2VuZGFudHMoKSkgZG8KICAgICAgICBpZiB2OklzQSgiQmFzZVBhcnQiKSB0aGVuCiAgICAgICAgICAgIC0tIMSR4bq3YyB0csawbmcgQmx1ZSBHZWFyCiAgICAgICAgICAgIGlmIHYuQ29sb3IuQiA+IDIwMAogICAgICAgICAgICBhbmQgdi5NYXRlcmlhbCA9PSBFbnVtLk1hdGVyaWFsLk5lb24KICAgICAgICAgICAgYW5kIHYuU2l6ZS5NYWduaXR1ZGUgPCAxNSB0aGVuCiAgICAgICAgICAgICAgICByZXR1cm4gdgogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAogICAgcmV0dXJuIG5pbAplbmQKCmxvY2FsIGZ1bmN0aW9uIEdvVG9CbHVlR2VhcigpCiAgICBsb2NhbCBnZWFyID0gRmluZEJsdWVHZWFyKCkKICAgIGlmIGdlYXIgdGhlbgogICAgICAgIE5vdGlmeSgi8J+UtSBCTFVFIEdFQVIgRk9VTkQgISEhIiwgNikKICAgICAgICBUUChnZWFyLkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgNSwgMCkpCiAgICAgICAgcmV0dXJuIHRydWUKICAgIGVuZAogICAgcmV0dXJuIGZhbHNlCmVuZAoKLS09PT09PT09PT09PT09PT09IEFVVE8gQkxVRSBHRUFSIExPT1AgPT09PT09PT09PT09PT09PT0tLQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgzKSBkbwogICAgICAgIGlmIG5vdCBDaGVlbS5BdXRvQmx1ZUdlYXIgdGhlbiBjb250aW51ZSBlbmQKICAgICAgICBpZiBub3QgSXNNaXJhZ2VJc2xhbmRQcmVzZW50KCkgdGhlbiBjb250aW51ZSBlbmQKCiAgICAgICAgaWYgR29Ub0JsdWVHZWFyKCkgdGhlbgogICAgICAgICAgICBDaGVlbS5BdXRvQmx1ZUdlYXIgPSBmYWxzZQogICAgICAgICAgICBDaGVlbS5BdXRvSG9wID0gZmFsc2UKICAgICAgICAgICAgU2F2ZUNvbmZpZygpCiAgICAgICAgICAgIE5vdGlmeSgi4pyFIERPTkUgQkxVRSBHRUFSIiwgNSkKICAgICAgICBlbmQKICAgIGVuZAplbmQpCgotLT09PT09PT09PT09PT09PT0gQVVUTyBIT1AgTUlSQUdFID09PT09PT09PT09PT09PT09LS0KdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoNikgZG8KICAgICAgICBpZiBub3QgQ2hlZW0uQXV0b0hvcCB0aGVuIGNvbnRpbnVlIGVuZAogICAgICAgIGlmIENoZWVtLkhvcE1vZGUgfj0gIk1pcmFnZSIgdGhlbiBjb250aW51ZSBlbmQKCiAgICAgICAgbG9jYWwgZm91bmQgPSBmYWxzZQogICAgICAgIGxvY2FsIG9rID0gcGNhbGwoZnVuY3Rpb24oKQogICAgICAgICAgICBmb3VuZCA9IElzTWlyYWdlSXNsYW5kUHJlc2VudCgpCiAgICAgICAgZW5kKQoKICAgICAgICBpZiBmb3VuZCB0aGVuCiAgICAgICAgICAgIE5vdGlmeSgi8J+Pne+4jyBNSVJBR0UgSVNMQU5EIEZPVU5EICEhISIsIDYpCiAgICAgICAgICAgIENoZWVtLkF1dG9Ib3AgPSBmYWxzZQogICAgICAgICAgICBTYXZlQ29uZmlnKCkKICAgICAgICBlbHNlCiAgICAgICAgICAgIE5vdGlmeSgiTm90IE1pcmFnZSDihpIgSG9wIHNlcnZlciDwn5SEIiwgMykKICAgICAgICAgICAgSG9wU2VydmVyKCkKICAgICAgICAgICAgdGFzay53YWl0KDEwKQogICAgICAgIGVuZAogICAgZW5kCmVuZCkKCi0tPT09PT09PT09PT09PT09PSBNT0IgTUFHTkVUID09PT09PT09PT09PT09PT09LS0KbG9jYWwgZnVuY3Rpb24gUHVsbE1vYnMocmFkaXVzKQogICAgbG9jYWwgY2hhciA9IFBsYXllci5DaGFyYWN0ZXIKICAgIGlmIG5vdCBjaGFyIHRoZW4gcmV0dXJuIGVuZAoKICAgIGxvY2FsIGhycCA9IGNoYXI6RmluZEZpcnN0Q2hpbGQoIkh1bWFub2lkUm9vdFBhcnQiKQogICAgaWYgbm90IGhycCB0aGVuIHJldHVybiBlbmQKCiAgICBsb2NhbCBlbmVtaWVzID0gd29ya3NwYWNlOkZpbmRGaXJzdENoaWxkKCJFbmVtaWVzIikKICAgIGlmIG5vdCBlbmVtaWVzIHRoZW4gcmV0dXJuIGVuZAoKICAgIGZvciBfLG1vYiBpbiBwYWlycyhlbmVtaWVzOkdldENoaWxkcmVuKCkpIGRvCiAgICAgICAgaWYgbW9iOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICBhbmQgbW9iOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZCIpCiAgICAgICAgYW5kIG1vYi5IdW1hbm9pZC5IZWFsdGggPiAwIHRoZW4KCiAgICAgICAgICAgIGxvY2FsIG1ocnAgPSBtb2IuSHVtYW5vaWRSb290UGFydAogICAgICAgICAgICBpZiAobWhycC5Qb3NpdGlvbiAtIGhycC5Qb3NpdGlvbikuTWFnbml0dWRlIDw9IHJhZGl1cyB0aGVuCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgbWhycC5DRnJhbWUgPSBocnAuQ0ZyYW1lICogQ0ZyYW1lLm5ldygKICAgICAgICAgICAgICAgICAgICAgICAgbWF0aC5yYW5kb20oLTMsMyksCiAgICAgICAgICAgICAgICAgICAgICAgIDAsCiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGgucmFuZG9tKC0zLDMpCiAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZW5kKQogICAgICAgICAgICBlbmQKICAgICAgICBlbmQKICAgIGVuZAplbmQKCi0tLT09PT09IFFVRVNUIENIRUNLID09PT09CmxvY2FsIGZ1bmN0aW9uIElzRG9pbmdRdWVzdCgpCiAgICBsb2NhbCBndWkgPSBQbGF5ZXIuUGxheWVyR3VpOkZpbmRGaXJzdENoaWxkKCJNYWluIikKICAgIGlmIG5vdCBndWkgdGhlbiByZXR1cm4gZmFsc2UgZW5kCgogICAgbG9jYWwgcXVlc3QgPSBndWk6RmluZEZpcnN0Q2hpbGQoIlF1ZXN0IikKICAgIHJldHVybiBxdWVzdCBhbmQgcXVlc3QuVmlzaWJsZQplbmQKCi0tPT09PT09PT09PT09PT09PT09PT09PSBBVVRPIEZBUk0gTE9PUCAoRklYRUQpID09PT09PT09PT09PT09PT09PT09PT0tLQp0YXNrLnNwYXduKGZ1bmN0aW9uKCkKICAgIHdoaWxlIHRhc2sud2FpdCgwLjI1KSBkbwogICAgICAgIGlmIG5vdCBDaGVlbS5BdXRvRmFybSBvciBhdHRhY2tpbmcgdGhlbgogICAgICAgICAgICB0YXNrLndhaXQoMC40KQogICAgICAgICAgICBjb250aW51ZQogICAgICAgIGVuZAoKICAgICAgICAtLSBNT0IgTUFHTkVUCiAgICAgICAgaWYgQ2hlZW0uTW9iTWFnbmV0IHRoZW4KICAgICAgICAgICAgUHVsbE1vYnMoNDApCiAgICAgICAgZW5kCgogICAgICAgIGxvY2FsIHN1Y2Nlc3MsIGVyciA9IHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgbG9jYWwgY2hhciA9IFBsYXllci5DaGFyYWN0ZXIKICAgICAgICAgICAgaWYgbm90IGNoYXIgdGhlbiByZXR1cm4gZW5kCgogICAgICAgICAgICBsb2NhbCBocnAgPSBjaGFyOkZpbmRGaXJzdENoaWxkKCJIdW1hbm9pZFJvb3RQYXJ0IikKICAgICAgICAgICAgbG9jYWwgaHVtID0gY2hhcjpGaW5kRmlyc3RDaGlsZE9mQ2xhc3MoIkh1bWFub2lkIikKICAgICAgICAgICAgaWYgbm90IGhycCBvciBub3QgaHVtIG9yIGh1bS5IZWFsdGggPD0gMCB0aGVuIHJldHVybiBlbmQKCiAgICAgICAgICAgIGxvY2FsIGRhdGEgPSBQbGF5ZXI6RmluZEZpcnN0Q2hpbGQoIkRhdGEiKQogICAgICAgICAgICBpZiBub3QgZGF0YSB0aGVuIHJldHVybiBlbmQKCiAgICAgICAgICAgIGxvY2FsIGxldmVsID0gZGF0YTpGaW5kRmlyc3RDaGlsZCgiTGV2ZWwiKQogICAgICAgICAgICBpZiBub3QgbGV2ZWwgdGhlbiByZXR1cm4gZW5kCgogICAgICAgICAgICBsb2NhbCBxID0gR2V0UXVlc3QobGV2ZWwuVmFsdWUpCiAgICAgICAgICAgIGlmIG5vdCBxIHRoZW4gcmV0dXJuIGVuZAoKICAgICAgICAgICAgLS09PT09PSBTVEFSVCBRVUVTVCAoRklYRUQpID09PT09CiAgICAgICAgICAgIGlmIG5vdCBJc0RvaW5nUXVlc3QoKSBvciBsYXN0UXVlc3Qgfj0gcS5RdWVzdE5hbWUgdGhlbgogICAgICAgICAgICAgICAgbGFzdFF1ZXN0ID0gcS5RdWVzdE5hbWUKICAgICAgICAgICAgICAgIFRQKHEuSXNsYW5kUG9zKQogICAgICAgICAgICAgICAgdGFzay53YWl0KDAuNCkKCiAgICAgICAgICAgICAgICBwY2FsbChmdW5jdGlvbigpCiAgICAgICAgICAgICAgICAgICAgUmVwbGljYXRlZFN0b3JhZ2UuUmVtb3Rlcy5Db21tRl86SW52b2tlU2VydmVyKAogICAgICAgICAgICAgICAgICAgICAgICAiU3RhcnRRdWVzdCIsCiAgICAgICAgICAgICAgICAgICAgICAgIHEuUXVlc3ROYW1lLAogICAgICAgICAgICAgICAgICAgICAgICBxLlF1ZXN0TGV2ZWwKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBlbmQpCgogICAgICAgICAgICAgICAgdGFzay53YWl0KDAuNSkKICAgICAgICAgICAgZW5kCgogICAgICAgICAgICAtLT09PT09IEZJTkQgJiBBVFRBQ0sgTU9CUyA9PT09PQogICAgICAgICAgICBsb2NhbCBlbmVtaWVzID0gd29ya3NwYWNlOkZpbmRGaXJzdENoaWxkKCJFbmVtaWVzIikKICAgICAgICAgICAgaWYgbm90IGVuZW1pZXMgdGhlbiByZXR1cm4gZW5kCgogICAgICAgICAgICBmb3IgXywgbW9iIGluIHBhaXJzKGVuZW1pZXM6R2V0Q2hpbGRyZW4oKSkgZG8KICAgICAgICAgICAgICAgIGlmIG5vdCBDaGVlbS5BdXRvRmFybSB0aGVuIGJyZWFrIGVuZAoKICAgICAgICAgICAgICAgIGlmIG1vYi5OYW1lID09IHEuTW9iTmFtZQogICAgICAgICAgICAgICAgYW5kIG1vYjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWQiKQogICAgICAgICAgICAgICAgYW5kIG1vYjpGaW5kRmlyc3RDaGlsZCgiSHVtYW5vaWRSb290UGFydCIpCiAgICAgICAgICAgICAgICBhbmQgbW9iLkh1bWFub2lkLkhlYWx0aCA+IDAgdGhlbgoKICAgICAgICAgICAgICAgICAgICBhdHRhY2tpbmcgPSB0cnVlCiAgICAgICAgICAgICAgICAgICAgRXF1aXBGYXJtV2VhcG9uKCkKCiAgICAgICAgICAgICAgICAgICAgaHJwLkNGcmFtZSA9IG1vYi5IdW1hbm9pZFJvb3RQYXJ0LkNGcmFtZSAqIENGcmFtZS5uZXcoMCwgMTAsIDApCgogICAgICAgICAgICAgICAgICAgIGlmIENoZWVtLkZhc3RBdHRhY2sgdGhlbgogICAgICAgICAgICAgICAgICAgICAgICBmb3IgaSA9IDEsIDUgZG8KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpcnR1YWxVc2VyOkJ1dHRvbjFEb3duKFZlY3RvcjIubmV3KDAsMCkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrLndhaXQoMC4wMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpcnR1YWxVc2VyOkJ1dHRvbjFVcChWZWN0b3IyLm5ldygwLDApKQogICAgICAgICAgICAgICAgICAgICAgICBlbmQKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIFZpcnR1YWxVc2VyOkJ1dHRvbjFEb3duKFZlY3RvcjIubmV3KDAsMCkpCiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2sud2FpdCgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgIFZpcnR1YWxVc2VyOkJ1dHRvbjFVcChWZWN0b3IyLm5ldygwLDApKQogICAgICAgICAgICAgICAgICAgIGVuZAoKICAgICAgICAgICAgICAgICAgICBhdHRhY2tpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgZW5kCiAgICAgICAgICAgIGVuZAogICAgICAgIGVuZCkKCiAgICAgICAgaWYgbm90IHN1Y2Nlc3MgdGhlbgogICAgICAgICAgICB3YXJuKCJbQXV0b0Zhcm0gRXJyb3JdOiIsIGVycikKICAgICAgICAgICAgYXR0YWNraW5nID0gZmFsc2UKICAgICAgICAgICAgdGFzay53YWl0KDEpCiAgICAgICAgZW5kCiAgICBlbmQKZW5kKQoKLS09PT09PT09PT09IEFVVE8gQ0xJQ0sgTE9PUCA9PT09PT09PT0KdGFzay5zcGF3bihmdW5jdGlvbigpCiAgICB3aGlsZSB0YXNrLndhaXQoMC4wNSkgZG8KICAgICAgICBpZiBub3QgQ2hlZW0uQXV0b0NsaWNrIHRoZW4gY29udGludWUgZW5kCgogICAgICAgIHBjYWxsKGZ1bmN0aW9uKCkKICAgICAgICAgICAgVmlydHVhbFVzZXI6QnV0dG9uMURvd24oVmVjdG9yMi5uZXcoMCwwKSkKICAgICAgICAgICAgdGFzay53YWl0KDAuMDEpCiAgICAgICAgICAgIFZpcnR1YWxVc2VyOkJ1dHRvbjFVcChWZWN0b3IyLm5ldygwLDApKQogICAgICAgIGVuZCkKICAgIGVuZAplbmQpCgotLT09PT09PT09PT09PT09PT09PT09IENIRUVNIEhVQiBBTlRJLUxFQUsgKFNBRkUgRklYKSA9PT09PT09PT09PT09PT09PT09PS0tCnRhc2suc3Bhd24oZnVuY3Rpb24oKQogICAgdGFzay53YWl0KDgpCgogICAgbG9jYWwgUGxheWVyID0gZ2FtZS5QbGF5ZXJzLkxvY2FsUGxheWVyCgogICAgbG9jYWwgV0hJVEVMSVNUID0gewogICAgICAgIFtQbGF5ZXIuVXNlcklkXSA9IHRydWUKICAgIH0KCiAgICBpZiBXSElURUxJU1RbUGxheWVyLlVzZXJJZF0gdGhlbgogICAgICAgIHJldHVybgogICAgZW5kCgotLT09PT09PT09PT09PT09PT09PT09IEVORCBBTlRJLUxFQUsgPT09PT09PT09PT09PT09PT09PT0tLQoKCmVuZCkKLS0gPT09PT09PT09PT09PT09PT0gRU5EIFNBRkUgTU9ERSA9PT09PT09PT09PT09PT09PQo="
local d=game:GetService("HttpService")
local s=d:Base64Decode(b)
assert(loadstring(s))()
